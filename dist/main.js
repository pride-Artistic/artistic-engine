var ArtisticEngine;(()=>{"use strict";var t={d:(s,e)=>{for(var i in e)t.o(e,i)&&!t.o(s,i)&&Object.defineProperty(s,i,{enumerable:!0,get:e[i]})},o:(t,s)=>Object.prototype.hasOwnProperty.call(t,s),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},s={};t.r(s),t.d(s,{Engine:()=>u,Entity:()=>n,Sprite:()=>a,Vector:()=>e});var e={};t.r(e),t.d(e,{Vector2D:()=>r,Vector3D:()=>c,Vector4D:()=>m});class i{constructor(...t){this.values=[...t],this.size=t.length}get Size(){return this.size}copy(t,s=!1){if(this.size>t.size&&!s)throw new Error(`Copying vector of size ${this.size} to ${t.size} will cause data loss.\nInclude force option if intended.`);return t.overwrite(this.values),t}isequal(t,s){if(this.size!==t.size)return!1;const e=this.values.slice(),i=t.values.slice();return e.every(((t,e)=>null==s?t==i[e]:t.toFixed(s)==i[e].toFixed(s)))}shift(t=1){t%=this.size;const s=this.values.slice(0,-t);return s.unshift(...this.values.slice(-t)),this.values=s,this}overwrite(t){let s=0;this.values=this.values.map((function(){return t[s++]||0}))}}class r extends i{constructor(t=0,s=0){super(t,s)}get X(){return this.values[0]}get Y(){return this.values[1]}set X(t){this.values[0]=t}set Y(t){this.values[1]=t}}class n{constructor(t){var s,e,i,n;this.children=[],this.parent=null,this.dimension=new r,this.position=new r,t&&(this.dimension.X=null!==(s=t.W)&&void 0!==s?s:0,this.dimension.Y=null!==(e=t.H)&&void 0!==e?e:0,this.position.X=null!==(i=t.X)&&void 0!==i?i:0,this.position.Y=null!==(n=t.Y)&&void 0!==n?n:0)}get Position(){return this.position}get X(){return this.position.X}get Y(){return this.position.Y}get AbsoluteX(){var t,s;return(null!==(s=null===(t=this.parent)||void 0===t?void 0:t.AbsoluteX)&&void 0!==s?s:0)+this.position.X}get AbsoluteY(){var t,s;return(null!==(s=null===(t=this.parent)||void 0===t?void 0:t.AbsoluteY)&&void 0!==s?s:0)+this.position.Y}get Dimension(){return this.dimension}get W(){return this.dimension.X}get H(){return this.dimension.Y}get Width(){return this.dimension.X}get Height(){return this.dimension.Y}get Parent(){return this.parent}get Children(){return this.children.slice()}set Position(t){this.position=t}set X(t){this.position.X=t}set Y(t){this.position.Y=t}set Dimension(t){this.dimension=t}set W(t){this.dimension.X=t}set H(t){this.dimension.Y=t}set Width(t){this.dimension.X=t}set Height(t){this.dimension.Y=t}attachChildren(t,s=1/0){var e;let i=-1;if(Array.isArray(t)){const e=Math.max(0,Math.min(s,this.children.length));for(let s=0;s<t.length;s++)i=this.attachChildren(t[s],e+s)}else{for(let s=this;null!==s;s=s.parent)if(s===t)throw new Error("Loop of parent-child relationships detected.");null===(e=t.parent)||void 0===e||e.detachChildren(t),this.children.push(t),t.parent=this,i=this.setChildIndex(t,s)}return i}detachChildren(t){if(Array.isArray(t))for(const s of t)this.detachChildren(s);else{const s=this.children.indexOf(t);s>-1&&(this.children.splice(s,1),t.parent=null)}}getChildIndex(t){return this.children.indexOf(t)}setChildIndex(t,s){const e=this.getChildIndex(t);if(-1===e)throw new Error("I AM NOT YOUR FATHER");this.children.splice(e,1);const i=Math.max(0,Math.min(s,this.children.length));return this.children.splice(i,0,t),i}setParent(t=null){var s;null==t?null===(s=this.parent)||void 0===s||s.detachChildren(this):t.attachChildren(this)}}const h=t=>{if(null!=t.reset)return!0;t.save();let s=0;const e=t.save,i=t.restore;return t.save=function(){e.call(this),s++},t.restore=function(){s>0&&(i.call(this),s--)},t.reset=function(){!function(t){for(let e=s;e>-1;e--)i.call(t);s=-1}(t),this.moveTo(0,0),this.beginPath(),this.closePath(),this.resetTransform(),this.clearRect(0,0,this.canvas.width,this.canvas.height),this.save()},!1};class o{constructor(t=1,s=0,e=0,i=1,r=0,n=0){this.values=[t,s,e,i,r,n]}get m11(){return this.values[0]}get m12(){return this.values[1]}get m21(){return this.values[2]}get m22(){return this.values[3]}get ox(){return this.values[4]}get oy(){return this.values[5]}get Determinant(){return this.m11*this.m22-this.m12*this.m21}get isInvertible(){return 0!==this.Determinant}get isIdentity(){return 1===this.m11&&1===this.m22&&0===this.m12&&0===this.m21&&0===this.ox&&0===this.oy}set m11(t){this.values[0]=t}set m12(t){this.values[1]=t}set m21(t){this.values[2]=t}set m22(t){this.values[3]=t}set ox(t){this.values[4]=t}set oy(t){this.values[5]=t}translate(t,s){return this.ox+=t,this.oy+=s,this}scale(t,s){return void 0===s?this.scale(t,t):([0,1,4].forEach((s=>{this.values[s]*=t})),[2,3,5].forEach((t=>{this.values[t]*=s})),this)}linear(t,s,e,i,r,n){return this.values=[this.m11*t+this.m12*e,this.m11*s+this.m12*i,this.m21*t+this.m22*e,this.m21*s+this.m22*i,this.m11*r+this.m12*n+this.ox,this.m21*r+this.m22*n+this.oy],this}rotate(t){t=t*Math.PI/180;const s=Math.sin(t),e=Math.cos(t);return this.linear(e,s,-s,e,0,0)}apply(t,s){let e;if(t instanceof r)e=t,s=t.Y,t=t.X,e.X=this.m11*t+this.m12*s+this.ox,e.Y=this.m21*t+this.m22*s+this.oy;else{if(void 0===s)throw new Error("Camera#apply method requires two number parameters or one Vector2D.");e=new r(this.m11*t+this.m12*s+this.ox,this.m21*t+this.m22*s+this.oy)}return e}multiply(t){return this.linear(...t.values)}invert(){const t=this.Determinant;if(0===t)throw new Error("This transform is not invertible");const s=this.m22/t,e=-1*this.m12/t,i=(this.m12*this.oy-this.m22*this.ox)/t,r=-1*this.m21/t,n=this.m11/t,h=-1*(this.m11*this.oy-this.m21*this.ox)/t;return this.m11=s,this.m12=e,this.ox=i,this.m21=r,this.m22=n,this.oy=h,this}copy(){return new o(...this.values)}toDOM(){return new DOMMatrix([this.m11,this.m21,this.m12,this.m22,this.ox,this.oy])}}class a extends n{constructor(){super(...arguments),this.transform=new o,this.draw=(t,s)=>{t.save(),this.region&&(this.beforeClip(t,s),t.translate(this.AbsoluteX,this.AbsoluteY),t.transform(this.transform.m11,this.transform.m21,this.transform.m12,this.transform.m22,this.transform.ox,this.transform.oy),t.beginPath(),t.rect(0,0,this.region.Width,this.region.Height),t.clip()),this.onDraw(t,s),t.restore(),this.afterRestore(t,s);for(const e of this.Children)e instanceof a&&e.draw(t,s)}}get Transform(){return this.transform}get Region(){return this.region}get isSelfRegion(){return this.region===this}set Transform(t){this.transform=t}set Region(t){this.region=t}beforeClip(t,s){}afterRestore(t,s){}resetTransform(){this.transform=new o}}class l extends a{onDraw(){}}class u{constructor(t){let s;if(this.previousTimestamp=0,this.animationId=-1,this.scene=new l,this.modifiers=[],s="string"==typeof t?document.querySelector(t):t,null===s)throw new Error("Unable to identify canvas.");this.canvas=s,this.subReset=()=>{};const e=this.canvas.getContext("2d");this.context=e,(t=>{const s={context_reset:h(this.Context)};Object.freeze(s)})()}get Canvas(){return this.canvas}get Context(){return this.context}get Scene(){return this.scene}set Scene(t){t instanceof n&&t.setParent(null),this.scene=t}setSubResetFunction(t){this.subReset=t}resizeCanvas(t){var s,e;t instanceof r?(this.Canvas.width=t.X,this.Canvas.height=t.Y):(this.Canvas.width=null!==(s=null==t?void 0:t.w)&&void 0!==s?s:window.innerWidth,this.Canvas.height=null!==(e=null==t?void 0:t.h)&&void 0!==e?e:window.innerHeight)}start(){this.render(this.previousTimestamp)}stop(){cancelAnimationFrame(this.animationId)}registerModifier(t){t.register(),this.modifiers.push(t)}unregisterModifier(t){this.modifiers=this.modifiers.filter((s=>s===t))}render(t){var s;const e=t-this.previousTimestamp;this.previousTimestamp=t;const i=[];for(const t of this.modifiers)t.Progress<1?t.tick():i.push(t);this.modifiers=this.modifiers.filter((t=>!i.includes(t))),this.context.reset(),this.subReset(this.context),null===(s=this.scene)||void 0===s||s.draw(this.context,e),this.animationId=requestAnimationFrame(this.render.bind(this))}}class c extends i{constructor(t=0,s=0,e=0){super(t,s,e)}get X(){return this.values[0]}get Y(){return this.values[1]}get Z(){return this.values[2]}set X(t){this.values[0]=t}set Y(t){this.values[1]=t}set Z(t){this.values[2]=t}}class m extends i{constructor(t=0,s=0,e=0,i=0){super(t,s,e,i)}get X(){return this.values[0]}get Y(){return this.values[1]}get Z(){return this.values[2]}get W(){return this.values[3]}set X(t){this.values[0]=t}set Y(t){this.values[1]=t}set Z(t){this.values[2]=t}set W(t){this.values[3]=t}}ArtisticEngine=s})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoic0NBQ0EsSUFBSUEsRUFBc0IsQ0NBMUJBLEVBQXdCLENBQUNDLEVBQVNDLEtBQ2pDLElBQUksSUFBSUMsS0FBT0QsRUFDWEYsRUFBb0JJLEVBQUVGLEVBQVlDLEtBQVNILEVBQW9CSSxFQUFFSCxFQUFTRSxJQUM1RUUsT0FBT0MsZUFBZUwsRUFBU0UsRUFBSyxDQUFFSSxZQUFZLEVBQU1DLElBQUtOLEVBQVdDLElBRTFFLEVDTkRILEVBQXdCLENBQUNTLEVBQUtDLElBQVVMLE9BQU9NLFVBQVVDLGVBQWVDLEtBQUtKLEVBQUtDLEdDQ2xGVixFQUF5QkMsSUFDSCxvQkFBWGEsUUFBMEJBLE9BQU9DLGFBQzFDVixPQUFPQyxlQUFlTCxFQUFTYSxPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RYLE9BQU9DLGVBQWVMLEVBQVMsYUFBYyxDQUFFZSxPQUFPLEdBQU8sRywrSUNML0MsTUFBZUMsRUFLNUJDLGVBQWVDLEdBQ2JDLEtBQUtELE9BQVMsSUFBSUEsR0FDbEJDLEtBQUtDLEtBQU9GLEVBQU9HLE1BQ3JCLENBRVdDLFdBQ1QsT0FBT0gsS0FBS0MsSUFDZCxDQUVPRyxLQUF1QkMsRUFBT0MsR0FBaUIsR0FDcEQsR0FBSU4sS0FBS0MsS0FBT0ksRUFBR0osT0FBU0ssRUFDMUIsTUFBTSxJQUFJQyxNQUNSLDBCQUEwQlAsS0FBS0MsV0FBV0ksRUFBR0osaUVBSS9DLE9BREFJLEVBQUdHLFVBQVVSLEtBQUtELFFBQ1hNLENBRVgsQ0FFT0ksUUFBMEJDLEVBQVVDLEdBQ3pDLEdBQUlYLEtBQUtDLE9BQVNTLEVBQU1ULEtBQU0sT0FBTyxFQUNyQyxNQUFNVyxFQUFZWixLQUFLRCxPQUFPYyxRQUN4QkMsRUFBYUosRUFBTVgsT0FBT2MsUUFDaEMsT0FBT0QsRUFBVUcsT0FBTSxDQUFDQyxFQUFHQyxJQUNWLE1BQVhOLEVBQ0tLLEdBQUtGLEVBQVdHLEdBRWhCRCxFQUFFRSxRQUFRUCxJQUFZRyxFQUFXRyxHQUFHQyxRQUFRUCxJQUd6RCxDQUVPUSxNQUFNQyxFQUFlLEdBQzFCQSxHQUFRcEIsS0FBS0MsS0FDYixNQUFNb0IsRUFBT3JCLEtBQUtELE9BQU9jLE1BQU0sR0FBSU8sR0FLbkMsT0FKQUMsRUFBS0MsV0FBV3RCLEtBQUtELE9BQU9jLE9BQU9PLElBR25DcEIsS0FBS0QsT0FBU3NCLEVBQ1ByQixJQUNULENBRVFRLFVBQVVULEdBQ2hCLElBQUl3QixFQUFVLEVBQ2R2QixLQUFLRCxPQUFTQyxLQUFLRCxPQUFPeUIsS0FBSSxXQUU1QixPQURpQnpCLEVBQU93QixNQUVaLENBQ2QsR0FDRixFQ3JEYSxNQUFNRSxVQUFpQjVCLEVBQ3BDQyxZQUFZNEIsRUFBWSxFQUFHQyxFQUFZLEdBQ3JDQyxNQUFNRixFQUFHQyxFQUNYLENBRVdFLFFBQ1QsT0FBTzdCLEtBQUtELE9BQU8sRUFDckIsQ0FFVytCLFFBQ1QsT0FBTzlCLEtBQUtELE9BQU8sRUFDckIsQ0FFVzhCLE1BQUVILEdBQ1gxQixLQUFLRCxPQUFPLEdBQUsyQixDQUNuQixDQUVXSSxNQUFFSCxHQUNYM0IsS0FBS0QsT0FBTyxHQUFLNEIsQ0FDbkIsRUNsQmEsTUFBTUksRUFTbkIsWUFBbUJDLEcsWUFSVCxLQUFBQyxTQUFxQixHQUVyQixLQUFBQyxPQUF3QixLQUUxQixLQUFBQyxVQUFzQixJQUFJVixFQUUxQixLQUFBVyxTQUFxQixJQUFJWCxFQUczQk8sSUFDRmhDLEtBQUttQyxVQUFVTixFQUFZLFFBQVIsRUFBQUcsRUFBT0ssU0FBQyxRQUFJLEVBQy9CckMsS0FBS21DLFVBQVVMLEVBQVksUUFBUixFQUFBRSxFQUFPTSxTQUFDLFFBQUksRUFDL0J0QyxLQUFLb0MsU0FBU1AsRUFBWSxRQUFSLEVBQUFHLEVBQU9ILFNBQUMsUUFBSSxFQUM5QjdCLEtBQUtvQyxTQUFTTixFQUFZLFFBQVIsRUFBQUUsRUFBT0YsU0FBQyxRQUFJLEVBRWxDLENBRVdTLGVBQ1QsT0FBT3ZDLEtBQUtvQyxRQUNkLENBRVdQLFFBQ1QsT0FBTzdCLEtBQUtvQyxTQUFTUCxDQUN2QixDQUVXQyxRQUNULE9BQU85QixLQUFLb0MsU0FBU04sQ0FDdkIsQ0FFV1UsZ0IsUUFFVCxPQURzQyxRQUF0QixFQUFXLFFBQVgsRUFBQXhDLEtBQUtrQyxjQUFNLGVBQUVNLGlCQUFTLFFBQUksR0FDekJ4QyxLQUFLb0MsU0FBU1AsQ0FDakMsQ0FFV1ksZ0IsUUFFVCxPQURzQyxRQUF0QixFQUFXLFFBQVgsRUFBQXpDLEtBQUtrQyxjQUFNLGVBQUVPLGlCQUFTLFFBQUksR0FDekJ6QyxLQUFLb0MsU0FBU04sQ0FDakMsQ0FFV1ksZ0JBQ1QsT0FBTzFDLEtBQUttQyxTQUNkLENBRVdFLFFBQ1QsT0FBT3JDLEtBQUttQyxVQUFVTixDQUN4QixDQUVXUyxRQUNULE9BQU90QyxLQUFLbUMsVUFBVUwsQ0FDeEIsQ0FFV2EsWUFDVCxPQUFPM0MsS0FBS21DLFVBQVVOLENBQ3hCLENBRVdlLGFBQ1QsT0FBTzVDLEtBQUttQyxVQUFVTCxDQUN4QixDQUVXZSxhQUNULE9BQU83QyxLQUFLa0MsTUFDZCxDQUVjWSxlQUNaLE9BQU85QyxLQUFLaUMsU0FBU3BCLE9BQ3ZCLENBRVcwQixhQUFTSCxHQUNsQnBDLEtBQUtvQyxTQUFXQSxDQUNsQixDQUVXUCxNQUFFSCxHQUNYMUIsS0FBS29DLFNBQVNQLEVBQUlILENBQ3BCLENBRVdJLE1BQUVILEdBQ1gzQixLQUFLb0MsU0FBU04sRUFBSUgsQ0FDcEIsQ0FFV2UsY0FBVVAsR0FDbkJuQyxLQUFLbUMsVUFBWUEsQ0FDbkIsQ0FFV0UsTUFBRVUsR0FDWC9DLEtBQUttQyxVQUFVTixFQUFJa0IsQ0FDckIsQ0FFV1QsTUFBRVUsR0FDWGhELEtBQUttQyxVQUFVTCxFQUFJa0IsQ0FDckIsQ0FFV0wsVUFBTUksR0FDZi9DLEtBQUttQyxVQUFVTixFQUFJa0IsQ0FDckIsQ0FFV0gsV0FBT0ksR0FDaEJoRCxLQUFLbUMsVUFBVUwsRUFBSWtCLENBQ3JCLENBVU9DLGVBQ0xoQixFQUNBaUIsRUFBa0JDLEssTUFFbEIsSUFBSUMsR0FBcUIsRUFDekIsR0FBSUMsTUFBTUMsUUFBUXJCLEdBQVcsQ0FDM0IsTUFBTXNCLEVBQVlDLEtBQUtDLElBQUksRUFBR0QsS0FBS0UsSUFBSVIsRUFBU2xELEtBQUtpQyxTQUFTL0IsU0FDOUQsSUFBSyxJQUFJeUQsRUFBUSxFQUFHQSxFQUFRMUIsRUFBUy9CLE9BQVF5RCxJQUMzQ1AsRUFBWXBELEtBQUtpRCxlQUFlaEIsRUFBUzBCLEdBQVFKLEVBQVlJLEUsS0FFMUQsQ0FDTCxJQUNFLElBQUlDLEVBQTRCNUQsS0FDakIsT0FBZjRELEVBQ0FBLEVBQWFBLEVBQVcxQixPQUV4QixHQUFJMEIsSUFBZTNCLEVBQ2pCLE1BQU0sSUFBSTFCLE1BQU0sZ0RBR0wsUUFBZixFQUFBMEIsRUFBU0MsY0FBTSxTQUFFMkIsZUFBZTVCLEdBR2hDakMsS0FBS2lDLFNBQVM2QixLQUFLN0IsR0FDbkJBLEVBQVNDLE9BQVNsQyxLQUNsQm9ELEVBQVlwRCxLQUFLK0QsY0FBYzlCLEVBQVVpQixFLENBRTNDLE9BQU9FLENBQ1QsQ0FNT1MsZUFBZTVCLEdBQ3BCLEdBQUlvQixNQUFNQyxRQUFRckIsR0FDaEIsSUFBSyxNQUFNK0IsS0FBUy9CLEVBQ2xCakMsS0FBSzZELGVBQWVHLE9BRWpCLENBQ0wsTUFBTUwsRUFBUTNELEtBQUtpQyxTQUFTZ0MsUUFBUWhDLEdBQ2hDMEIsR0FBUyxJQUNYM0QsS0FBS2lDLFNBQVNpQyxPQUFPUCxFQUFPLEdBQzVCMUIsRUFBU0MsT0FBUyxLLENBR3hCLENBUU9pQyxjQUFjSCxHQUNuQixPQUFPaEUsS0FBS2lDLFNBQVNnQyxRQUFRRCxFQUMvQixDQVFPRCxjQUFjQyxFQUFlTCxHQUNsQyxNQUFNUyxFQUFlcEUsS0FBS21FLGNBQWNILEdBQ3hDLElBQXNCLElBQWxCSSxFQUNGLE1BQU0sSUFBSTdELE1BQU0sd0JBRWxCUCxLQUFLaUMsU0FBU2lDLE9BQU9FLEVBQWMsR0FDbkMsTUFBTWIsRUFBWUMsS0FBS0MsSUFBSSxFQUFHRCxLQUFLRSxJQUFJQyxFQUFPM0QsS0FBS2lDLFNBQVMvQixTQUU1RCxPQURBRixLQUFLaUMsU0FBU2lDLE9BQU9YLEVBQVcsRUFBR1MsR0FDNUJULENBQ1QsQ0FZT2MsVUFBVW5DLEVBQXdCLE0sTUFDekIsTUFBVkEsRUFDUyxRQUFYLEVBQUFsQyxLQUFLa0MsY0FBTSxTQUFFMkIsZUFBZTdELE1BRTVCa0MsRUFBT2UsZUFBZWpELEtBRTFCLEVDMU1GLFFBQWdCc0UsSUFDZCxHQUE0QixNQUFsQkEsRUFBU0MsTUFDakIsT0FBTyxFQU1URCxFQUFRRSxPQUNSLElBQUlDLEVBQWEsRUFFakIsTUFBTUMsRUFBV0osRUFBUUUsS0FDbkJHLEVBQWNMLEVBQVFNLFFBOEI1QixPQTVCQU4sRUFBUUUsS0FBTyxXQUNiRSxFQUFTakYsS0FBS08sTUFDZHlFLEdBQ0YsRUFFQUgsRUFBUU0sUUFBVSxXQUNaSCxFQUFhLElBQ2ZFLEVBQVlsRixLQUFLTyxNQUNqQnlFLElBRUosRUFTTUgsRUFBU0MsTUFBUSxZQVBILFNBQVVNLEdBQzVCLElBQUssSUFBSUMsRUFBUUwsRUFBWUssR0FBUyxFQUFHQSxJQUN2Q0gsRUFBWWxGLEtBQUtvRixHQUVuQkosR0FBYyxDQUNoQixDQUdFTSxDQUFZVCxHQUNadEUsS0FBS2dGLE9BQU8sRUFBRyxHQUNmaEYsS0FBS2lGLFlBQ0xqRixLQUFLa0YsWUFDTGxGLEtBQUttRixpQkFDTG5GLEtBQUtvRixVQUFVLEVBQUcsRUFBR3BGLEtBQUtxRixPQUFPdEMsTUFBTy9DLEtBQUtxRixPQUFPckMsUUFDcERoRCxLQUFLd0UsTUFDUCxHQUNPLENBQ1IsRUN6Q2MsTUFBTWMsRUFHbkJ4RixZQUNFeUYsRUFBYyxFQUNkQyxFQUFjLEVBQ2RDLEVBQWMsRUFDZEMsRUFBYyxFQUNkQyxFQUFhLEVBQ2JDLEVBQWEsR0FFYjVGLEtBQUtELE9BQVMsQ0FBQ3dGLEVBQUtDLEVBQUtDLEVBQUtDLEVBQUtDLEVBQUlDLEVBQ3pDLENBS0lMLFVBQ0YsT0FBT3ZGLEtBQUtELE9BQU8sRUFDckIsQ0FLSXlGLFVBQ0YsT0FBT3hGLEtBQUtELE9BQU8sRUFDckIsQ0FLSTBGLFVBQ0YsT0FBT3pGLEtBQUtELE9BQU8sRUFDckIsQ0FLSTJGLFVBQ0YsT0FBTzFGLEtBQUtELE9BQU8sRUFDckIsQ0FLSTRGLFNBQ0YsT0FBTzNGLEtBQUtELE9BQU8sRUFDckIsQ0FLSTZGLFNBQ0YsT0FBTzVGLEtBQUtELE9BQU8sRUFDckIsQ0FFSThGLGtCQUNGLE9BQU83RixLQUFLdUYsSUFBTXZGLEtBQUswRixJQUFNMUYsS0FBS3dGLElBQU14RixLQUFLeUYsR0FDL0MsQ0FFSUssbUJBQ0YsT0FBNEIsSUFBckI5RixLQUFLNkYsV0FDZCxDQUVJRSxpQkFDRixPQUNlLElBQWIvRixLQUFLdUYsS0FDUSxJQUFidkYsS0FBSzBGLEtBQ1EsSUFBYjFGLEtBQUt3RixLQUNRLElBQWJ4RixLQUFLeUYsS0FDTyxJQUFaekYsS0FBSzJGLElBQ08sSUFBWjNGLEtBQUs0RixFQUVULENBS0lMLFFBQUkzRixHQUNOSSxLQUFLRCxPQUFPLEdBQUtILENBQ25CLENBS0k0RixRQUFJNUYsR0FDTkksS0FBS0QsT0FBTyxHQUFLSCxDQUNuQixDQUtJNkYsUUFBSTdGLEdBQ05JLEtBQUtELE9BQU8sR0FBS0gsQ0FDbkIsQ0FLSThGLFFBQUk5RixHQUNOSSxLQUFLRCxPQUFPLEdBQUtILENBQ25CLENBS0krRixPQUFHL0YsR0FDTEksS0FBS0QsT0FBTyxHQUFLSCxDQUNuQixDQUtJZ0csT0FBR2hHLEdBQ0xJLEtBQUtELE9BQU8sR0FBS0gsQ0FDbkIsQ0FRT29HLFVBQVV0RSxFQUFXQyxHQUcxQixPQUZBM0IsS0FBSzJGLElBQU1qRSxFQUNYMUIsS0FBSzRGLElBQU1qRSxFQUNKM0IsSUFDVCxDQWVPaUcsTUFBTXZFLEVBQVdDLEdBQ3RCLFlBQVV1RSxJQUFOdkUsRUFDSzNCLEtBQUtpRyxNQUFNdkUsRUFBR0EsSUFFdkIsQ0FBQyxFQUFHLEVBQUcsR0FBR3lFLFNBQVNuRixJQUNqQmhCLEtBQUtELE9BQU9pQixJQUFNVSxDQUFDLElBRXJCLENBQUMsRUFBRyxFQUFHLEdBQUd5RSxTQUFTbkYsSUFDakJoQixLQUFLRCxPQUFPaUIsSUFBTVcsQ0FBQyxJQUVkM0IsS0FDVCxDQVlPb0csT0FDTGIsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsR0FVQSxPQVJBNUYsS0FBS0QsT0FBUyxDQUNaQyxLQUFLdUYsSUFBTUEsRUFBTXZGLEtBQUt3RixJQUFNQyxFQUM1QnpGLEtBQUt1RixJQUFNQyxFQUFNeEYsS0FBS3dGLElBQU1FLEVBQzVCMUYsS0FBS3lGLElBQU1GLEVBQU12RixLQUFLMEYsSUFBTUQsRUFDNUJ6RixLQUFLeUYsSUFBTUQsRUFBTXhGLEtBQUswRixJQUFNQSxFQUM1QjFGLEtBQUt1RixJQUFNSSxFQUFLM0YsS0FBS3dGLElBQU1JLEVBQUs1RixLQUFLMkYsR0FDckMzRixLQUFLeUYsSUFBTUUsRUFBSzNGLEtBQUswRixJQUFNRSxFQUFLNUYsS0FBSzRGLElBRWhDNUYsSUFDVCxDQU9PcUcsT0FBT0MsR0FDWkEsRUFBU0EsRUFBUTlDLEtBQUsrQyxHQUFNLElBQzVCLE1BQU1DLEVBQVdoRCxLQUFLaUQsSUFBSUgsR0FDcEJJLEVBQVdsRCxLQUFLbUQsSUFBSUwsR0FDMUIsT0FBT3RHLEtBQUtvRyxPQUFPTSxFQUFVRixHQUFXQSxFQUFVRSxFQUFVLEVBQUcsRUFDakUsQ0FRT0UsTUFBTWxGLEVBQXNCQyxHQUNqQyxJQUFJWCxFQUNKLEdBQUlVLGFBQWFELEVBQ2ZULEVBQUlVLEVBQ0pDLEVBQUlELEVBQUVJLEVBQ05KLEVBQUlBLEVBQUVHLEVBQ05iLEVBQUVhLEVBQUk3QixLQUFLdUYsSUFBTTdELEVBQUkxQixLQUFLd0YsSUFBTTdELEVBQUkzQixLQUFLMkYsR0FDekMzRSxFQUFFYyxFQUFJOUIsS0FBS3lGLElBQU0vRCxFQUFJMUIsS0FBSzBGLElBQU0vRCxFQUFJM0IsS0FBSzRGLE9BQ3BDLFNBQVVNLElBQU52RSxFQU1ULE1BQU0sSUFBSXBCLE1BQ1IsdUVBTkZTLEVBQUksSUFBSVMsRUFDTnpCLEtBQUt1RixJQUFNN0QsRUFBSTFCLEtBQUt3RixJQUFNN0QsRUFBSTNCLEtBQUsyRixHQUNuQzNGLEtBQUt5RixJQUFNL0QsRUFBSTFCLEtBQUswRixJQUFNL0QsRUFBSTNCLEtBQUs0RixHLENBT3ZDLE9BQU81RSxDQUNULENBT082RixTQUFTQyxHQUNkLE9BQU85RyxLQUFLb0csVUFBVVUsRUFBRS9HLE9BQzFCLENBTU9nSCxTQUNMLE1BQU1DLEVBQU1oSCxLQUFLNkYsWUFDakIsR0FBWSxJQUFSbUIsRUFBVyxNQUFNLElBQUl6RyxNQUFNLG9DQUMvQixNQUFNZ0YsRUFBTXZGLEtBQUswRixJQUFNc0IsRUFDakJ4QixHQUFtQixFQUFaeEYsS0FBS3dGLElBQVl3QixFQUN4QnJCLEdBQU0zRixLQUFLd0YsSUFBTXhGLEtBQUs0RixHQUFLNUYsS0FBSzBGLElBQU0xRixLQUFLMkYsSUFBTXFCLEVBQ2pEdkIsR0FBbUIsRUFBWnpGLEtBQUt5RixJQUFZdUIsRUFDeEJ0QixFQUFNMUYsS0FBS3VGLElBQU15QixFQUNqQnBCLEdBQW1ELEdBQTVDNUYsS0FBS3VGLElBQU12RixLQUFLNEYsR0FBSzVGLEtBQUt5RixJQUFNekYsS0FBSzJGLElBQVlxQixFQVE5RCxPQU5BaEgsS0FBS3VGLElBQU1BLEVBQ1h2RixLQUFLd0YsSUFBTUEsRUFDWHhGLEtBQUsyRixHQUFLQSxFQUNWM0YsS0FBS3lGLElBQU1BLEVBQ1h6RixLQUFLMEYsSUFBTUEsRUFDWDFGLEtBQUs0RixHQUFLQSxFQUNINUYsSUFDVCxDQU1PSSxPQUNMLE9BQU8sSUFBSWtGLEtBQVV0RixLQUFLRCxPQUM1QixDQU9Pa0gsUUFDTCxPQUFPLElBQUlDLFVBQVUsQ0FDbkJsSCxLQUFLdUYsSUFDTHZGLEtBQUt5RixJQUNMekYsS0FBS3dGLElBQ0x4RixLQUFLMEYsSUFDTDFGLEtBQUsyRixHQUNMM0YsS0FBSzRGLElBRVQsRUNuUmEsTUFBZXVCLFVBQWVwRixFQUE3QyxjLG9CQUdVLEtBQUFxRixVQUFvQixJQUFJOUIsRUE0Q2hCLEtBQUErQixLQUFPLENBQUMvQyxFQUFtQ2dELEtBQ3pEaEQsRUFBUUUsT0FDSnhFLEtBQUt1SCxTQUNQdkgsS0FBS3dILFdBQVdsRCxFQUFTZ0QsR0FDekJoRCxFQUFRMEIsVUFBVWhHLEtBQUt3QyxVQUFXeEMsS0FBS3lDLFdBQ3ZDNkIsRUFBUThDLFVBQ05wSCxLQUFLb0gsVUFBVTdCLElBQ2Z2RixLQUFLb0gsVUFBVTNCLElBQ2Z6RixLQUFLb0gsVUFBVTVCLElBQ2Z4RixLQUFLb0gsVUFBVTFCLElBQ2YxRixLQUFLb0gsVUFBVXpCLEdBQ2YzRixLQUFLb0gsVUFBVXhCLElBRWpCdEIsRUFBUVcsWUFDUlgsRUFBUW1ELEtBQUssRUFBRyxFQUFHekgsS0FBS3VILE9BQU81RSxNQUFPM0MsS0FBS3VILE9BQU8zRSxRQUNsRDBCLEVBQVFvRCxRQUVWMUgsS0FBSzJILE9BQU9yRCxFQUFTZ0QsR0FDckJoRCxFQUFRTSxVQUNSNUUsS0FBSzRILGFBQWF0RCxFQUFTZ0QsR0FDM0IsSUFBSyxNQUFNdEQsS0FBU2hFLEtBQUs4QyxTQUNqQmtCLGFBQWlCbUQsR0FDdkJuRCxFQUFNcUQsS0FBSy9DLEVBQVNnRCxFLENBbUMxQixDQS9GYU8sZ0JBQ1QsT0FBTzdILEtBQUtvSCxTQUNkLENBT1dVLGFBQ1QsT0FBTzlILEtBQUt1SCxNQUNkLENBTVdRLG1CQUNULE9BQU8vSCxLQUFLdUgsU0FBV3ZILElBQ3pCLENBS1c2SCxjQUFVRyxHQUNuQmhJLEtBQUtvSCxVQUFZWSxDQUNuQixDQUtXRixXQUFPUCxHQUNoQnZILEtBQUt1SCxPQUFTQSxDQUNoQixDQXNDT0MsV0FBV2xELEVBQW1DZ0QsR0FBZ0IsQ0FTOURNLGFBQWF0RCxFQUFtQ2dELEdBQWdCLENBRWhFbkMsaUJBQ0xuRixLQUFLb0gsVUFBWSxJQUFJOUIsQ0FDdkIsRUMvRmEsTUFBTTJDLFVBQW1CZCxFQUMvQlEsU0FBZ0IsRUNTVixNQUFNTyxFQWVuQixZQUFtQkMsR0FFakIsSUFBSTlDLEVBU0osR0FuQk0sS0FBQStDLGtCQUE0QixFQUU1QixLQUFBQyxhQUF1QixFQUV2QixLQUFBQyxNQUFtQixJQUFJTCxFQUV2QixLQUFBTSxVQUF3QixHQU01QmxELEVBRDhCLGlCQUFyQjhDLEVBQ0FLLFNBQVNDLGNBQ2hCTixHQUdPQSxFQUdJLE9BQVg5QyxFQUNGLE1BQU0sSUFBSTlFLE1BQU0sOEJBR2xCUCxLQUFLcUYsT0FBU0EsRUFDZHJGLEtBQUswSSxTQUFXLE9BR2hCLE1BQU1wRSxFQUFVdEUsS0FBS3FGLE9BQU9zRCxXQUMxQixNQUdGM0ksS0FBS3NFLFFBQVVBLEVDL0NuQixDQUFnQnNFLElBQ2QsTUFBTUMsRUFBZSxDQUNuQkMsY0FBZSxFRCtDSTlJLEtDL0NnQitJLFVBRXJDOUosT0FBTytKLE9BQU9ILEVBRWYsRUQyQ0csRUFDRixDQUVXSSxhQUNULE9BQU9qSixLQUFLcUYsTUFDZCxDQUVXMEQsY0FDVCxPQUFPL0ksS0FBS3NFLE9BQ2QsQ0FFVzRFLFlBQ1QsT0FBT2xKLEtBQUtzSSxLQUNkLENBRVdZLFVBQU1aLEdBQ1hBLGFBQWlCdkcsR0FDbkJ1RyxFQUFNakUsVUFBVSxNQUVsQnJFLEtBQUtzSSxNQUFRQSxDQUNmLENBRU9hLG9CQUNMQyxHQUVBcEosS0FBSzBJLFNBQVdVLENBQ2xCLENBRU9DLGFBQWFySCxHLFFBQ2RBLGFBQWtCUCxHQUNwQnpCLEtBQUtpSixPQUFPbEcsTUFBUWYsRUFBT0gsRUFDM0I3QixLQUFLaUosT0FBT2pHLE9BQVNoQixFQUFPRixJQUU1QjlCLEtBQUtpSixPQUFPbEcsTUFBaUIsUUFBVCxFQUFBZixhQUFNLEVBQU5BLEVBQVFzSCxTQUFDLFFBQUlDLE9BQU9DLFdBQ3hDeEosS0FBS2lKLE9BQU9qRyxPQUFrQixRQUFULEVBQUFoQixhQUFNLEVBQU5BLEVBQVF5SCxTQUFDLFFBQUlGLE9BQU9HLFlBRzdDLENBRU9DLFFBRUwzSixLQUFLNEosT0FBTzVKLEtBQUtvSSxrQkFDbkIsQ0FFT3lCLE9BQ0xDLHFCQUFxQjlKLEtBQUtxSSxZQUM1QixDQUVPMEIsaUJBQWlCQyxHQUN0QkEsRUFBU0MsV0FDVGpLLEtBQUt1SSxVQUFVekUsS0FBS2tHLEVBQ3RCLENBRU9FLG1CQUFtQkYsR0FDeEJoSyxLQUFLdUksVUFBWXZJLEtBQUt1SSxVQUFVNEIsUUFBUUMsR0FBTUEsSUFBTUosR0FDdEQsQ0FFUUosT0FBT1MsRyxNQUNiLE1BQU1DLEVBQWNELEVBQVlySyxLQUFLb0ksa0JBQ3JDcEksS0FBS29JLGtCQUFvQmlDLEVBRXpCLE1BQU1FLEVBQWdDLEdBQ3RDLElBQUssTUFBTVAsS0FBWWhLLEtBQUt1SSxVQUN0QnlCLEVBQVNRLFNBQVcsRUFDdEJSLEVBQVNTLE9BRVRGLEVBQWtCekcsS0FBS2tHLEdBRzNCaEssS0FBS3VJLFVBQVl2SSxLQUFLdUksVUFBVTRCLFFBQzdCQyxJQUFPRyxFQUFrQkcsU0FBU04sS0FHckNwSyxLQUFLc0UsUUFBUUMsUUFDYnZFLEtBQUswSSxTQUFTMUksS0FBS3NFLFNBRVQsUUFBVixFQUFBdEUsS0FBS3NJLGFBQUssU0FBRWpCLEtBQUtySCxLQUFLc0UsUUFBU2dHLEdBRS9CdEssS0FBS3FJLFlBQWNzQyxzQkFBc0IzSyxLQUFLNEosT0FBT2dCLEtBQUs1SyxNQUM1RCxFRWpJYSxNQUFNNkssVUFBaUJoTCxFQUNwQ0MsWUFBWTRCLEVBQVksRUFBR0MsRUFBWSxFQUFHbUosRUFBWSxHQUNwRGxKLE1BQU1GLEVBQUdDLEVBQUdtSixFQUNkLENBRVdqSixRQUNULE9BQU83QixLQUFLRCxPQUFPLEVBQ3JCLENBRVcrQixRQUNULE9BQU85QixLQUFLRCxPQUFPLEVBQ3JCLENBRVdnTCxRQUNULE9BQU8vSyxLQUFLRCxPQUFPLEVBQ3JCLENBRVc4QixNQUFFSCxHQUNYMUIsS0FBS0QsT0FBTyxHQUFLMkIsQ0FDbkIsQ0FFV0ksTUFBRUgsR0FDWDNCLEtBQUtELE9BQU8sR0FBSzRCLENBQ25CLENBRVdvSixNQUFFRCxHQUNYOUssS0FBS0QsT0FBTyxHQUFLK0ssQ0FDbkIsRUMzQmEsTUFBTUUsVUFBaUJuTCxFQUNwQ0MsWUFBWTRCLEVBQVksRUFBR0MsRUFBWSxFQUFHbUosRUFBWSxFQUFHeEIsRUFBWSxHQUNuRTFILE1BQU1GLEVBQUdDLEVBQUdtSixFQUFHeEIsRUFDakIsQ0FFV3pILFFBQ1QsT0FBTzdCLEtBQUtELE9BQU8sRUFDckIsQ0FFVytCLFFBQ1QsT0FBTzlCLEtBQUtELE9BQU8sRUFDckIsQ0FFV2dMLFFBQ1QsT0FBTy9LLEtBQUtELE9BQU8sRUFDckIsQ0FFV3NDLFFBQ1QsT0FBT3JDLEtBQUtELE9BQU8sRUFDckIsQ0FFVzhCLE1BQUVILEdBQ1gxQixLQUFLRCxPQUFPLEdBQUsyQixDQUNuQixDQUVXSSxNQUFFSCxHQUNYM0IsS0FBS0QsT0FBTyxHQUFLNEIsQ0FDbkIsQ0FFV29KLE1BQUVELEdBQ1g5SyxLQUFLRCxPQUFPLEdBQUsrSyxDQUNuQixDQUVXekksTUFBRWlILEdBQ1h0SixLQUFLRCxPQUFPLEdBQUt1SixDQUNuQixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXJ0aXN0aWNFbmdpbmUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vQXJ0aXN0aWNFbmdpbmUvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL0FydGlzdGljRW5naW5lL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vQXJ0aXN0aWNFbmdpbmUvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9BcnRpc3RpY0VuZ2luZS8uL3NyYy92ZWN0b3IvdmVjdG9yLnRzIiwid2VicGFjazovL0FydGlzdGljRW5naW5lLy4vc3JjL3ZlY3Rvci92ZWN0b3IyRC50cyIsIndlYnBhY2s6Ly9BcnRpc3RpY0VuZ2luZS8uL3NyYy9lbnRpdHkvZW50aXR5LnRzIiwid2VicGFjazovL0FydGlzdGljRW5naW5lLy4vc3JjL2NvbXBhdGliaWxpdHkvY29udGV4dF9yZXNldC50cyIsIndlYnBhY2s6Ly9BcnRpc3RpY0VuZ2luZS8uL3NyYy9jYW1lcmEvY2FtZXJhLnRzIiwid2VicGFjazovL0FydGlzdGljRW5naW5lLy4vc3JjL3Nwcml0ZS9zcHJpdGUudHMiLCJ3ZWJwYWNrOi8vQXJ0aXN0aWNFbmdpbmUvLi9zcmMvc2NlbmVzL2JsYW5rX3NjZW5lLnRzIiwid2VicGFjazovL0FydGlzdGljRW5naW5lLy4vc3JjL2VuZ2luZS50cyIsIndlYnBhY2s6Ly9BcnRpc3RpY0VuZ2luZS8uL3NyYy9jb21wYXRpYmlsaXR5L2luZGV4LnRzIiwid2VicGFjazovL0FydGlzdGljRW5naW5lLy4vc3JjL3ZlY3Rvci92ZWN0b3IzRC50cyIsIndlYnBhY2s6Ly9BcnRpc3RpY0VuZ2luZS8uL3NyYy92ZWN0b3IvdmVjdG9yNEQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJleHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBWZWN0b3Ige1xyXG4gIHByb3RlY3RlZCByZWFkb25seSBzaXplOiBudW1iZXI7XHJcblxyXG4gIHByb3RlY3RlZCB2YWx1ZXM6IG51bWJlcltdO1xyXG5cclxuICBjb25zdHJ1Y3RvciguLi52YWx1ZXM6IG51bWJlcltdKSB7XHJcbiAgICB0aGlzLnZhbHVlcyA9IFsuLi52YWx1ZXNdO1xyXG4gICAgdGhpcy5zaXplID0gdmFsdWVzLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgU2l6ZSgpIHtcclxuICAgIHJldHVybiB0aGlzLnNpemU7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgY29weTxUIGV4dGVuZHMgVmVjdG9yPih0bzogVCwgZm9yY2U6IGJvb2xlYW4gPSBmYWxzZSk6IFQge1xyXG4gICAgaWYgKHRoaXMuc2l6ZSA+IHRvLnNpemUgJiYgIWZvcmNlKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICBgQ29weWluZyB2ZWN0b3Igb2Ygc2l6ZSAke3RoaXMuc2l6ZX0gdG8gJHt0by5zaXplfSB3aWxsIGNhdXNlIGRhdGEgbG9zcy5cXG5JbmNsdWRlIGZvcmNlIG9wdGlvbiBpZiBpbnRlbmRlZC5gXHJcbiAgICAgICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0by5vdmVyd3JpdGUodGhpcy52YWx1ZXMpO1xyXG4gICAgICByZXR1cm4gdG87XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgaXNlcXVhbDxUIGV4dGVuZHMgVmVjdG9yPihvdGhlcjogVCwgcHJlY2lzZT86IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgaWYgKHRoaXMuc2l6ZSAhPT0gb3RoZXIuc2l6ZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgY29uc3QgdGhpc0FycmF5ID0gdGhpcy52YWx1ZXMuc2xpY2UoKTtcclxuICAgIGNvbnN0IG90aGVyQXJyYXkgPSBvdGhlci52YWx1ZXMuc2xpY2UoKTtcclxuICAgIHJldHVybiB0aGlzQXJyYXkuZXZlcnkoKHYsIGkpID0+IHtcclxuICAgICAgaWYgKHByZWNpc2UgPT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiB2ID09IG90aGVyQXJyYXlbaV07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHYudG9GaXhlZChwcmVjaXNlKSA9PSBvdGhlckFycmF5W2ldLnRvRml4ZWQocHJlY2lzZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNoaWZ0KG1vdmU6IG51bWJlciA9IDEpIHtcclxuICAgIG1vdmUgJT0gdGhpcy5zaXplO1xyXG4gICAgY29uc3QgdGVtcCA9IHRoaXMudmFsdWVzLnNsaWNlKDAsIC1tb3ZlKTtcclxuICAgIHRlbXAudW5zaGlmdCguLi50aGlzLnZhbHVlcy5zbGljZSgtbW92ZSkpO1xyXG4gICAgLy8gSXQgY2hhbmdlcyBpdHNlbGYgKHJlZmVyZW5jZSksIGRvZXMgbm90IHJldHVybiBuZXcgdmFsdWVcclxuICAgIC8vIElmIHlvdSB3YW50IHRvIGxldCBpdCByZXR1cm4gbmV3IHZhbHVlLCB5b3Ugc2hvdWxkIG1vZGlmeSB0aGlzIHNlY3Rpb25cclxuICAgIHRoaXMudmFsdWVzID0gdGVtcDtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBvdmVyd3JpdGUodmFsdWVzOiBudW1iZXJbXSkge1xyXG4gICAgbGV0IGNvdW50ZXIgPSAwO1xyXG4gICAgdGhpcy52YWx1ZXMgPSB0aGlzLnZhbHVlcy5tYXAoZnVuY3Rpb24gKCkge1xyXG4gICAgICBjb25zdCBuZXdWYWx1ZSA9IHZhbHVlc1tjb3VudGVyKytdO1xyXG4gICAgICBpZiAobmV3VmFsdWUpIHJldHVybiBuZXdWYWx1ZTtcclxuICAgICAgZWxzZSByZXR1cm4gMDtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgVmVjdG9yIGZyb20gXCIuL3ZlY3RvclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVjdG9yMkQgZXh0ZW5kcyBWZWN0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciA9IDAsIHk6IG51bWJlciA9IDApIHtcclxuICAgIHN1cGVyKHgsIHkpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBYKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudmFsdWVzWzBdO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBZKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudmFsdWVzWzFdO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldCBYKHg6IG51bWJlcikge1xyXG4gICAgdGhpcy52YWx1ZXNbMF0gPSB4O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldCBZKHk6IG51bWJlcikge1xyXG4gICAgdGhpcy52YWx1ZXNbMV0gPSB5O1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBWZWN0b3IyRCB9IGZyb20gXCIuLi92ZWN0b3JcIjtcclxuaW1wb3J0IElFbnRpdHkgZnJvbSBcIi4vaWVudGl0eVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW50aXR5IGltcGxlbWVudHMgSUVudGl0eSB7XHJcbiAgcHJvdGVjdGVkIGNoaWxkcmVuOiBFbnRpdHlbXSA9IFtdO1xyXG5cclxuICBwcm90ZWN0ZWQgcGFyZW50OiBFbnRpdHkgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgcHJpdmF0ZSBkaW1lbnNpb246IFZlY3RvcjJEID0gbmV3IFZlY3RvcjJEKCk7XHJcblxyXG4gIHByaXZhdGUgcG9zaXRpb246IFZlY3RvcjJEID0gbmV3IFZlY3RvcjJEKCk7XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb25maWc/OiBJRW50aXR5IHwgdW5kZWZpbmVkKSB7XHJcbiAgICBpZiAoY29uZmlnKSB7XHJcbiAgICAgIHRoaXMuZGltZW5zaW9uLlggPSBjb25maWcuVyA/PyAwO1xyXG4gICAgICB0aGlzLmRpbWVuc2lvbi5ZID0gY29uZmlnLkggPz8gMDtcclxuICAgICAgdGhpcy5wb3NpdGlvbi5YID0gY29uZmlnLlggPz8gMDtcclxuICAgICAgdGhpcy5wb3NpdGlvbi5ZID0gY29uZmlnLlkgPz8gMDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgUG9zaXRpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvbjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgWCgpIHtcclxuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLlg7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IFkoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi5ZO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBBYnNvbHV0ZVgoKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IHBhcmVudFggPSB0aGlzLnBhcmVudD8uQWJzb2x1dGVYID8/IDA7XHJcbiAgICByZXR1cm4gcGFyZW50WCArIHRoaXMucG9zaXRpb24uWDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgQWJzb2x1dGVZKCk6IG51bWJlciB7XHJcbiAgICBjb25zdCBwYXJlbnRZID0gdGhpcy5wYXJlbnQ/LkFic29sdXRlWSA/PyAwO1xyXG4gICAgcmV0dXJuIHBhcmVudFkgKyB0aGlzLnBvc2l0aW9uLlk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IERpbWVuc2lvbigpIHtcclxuICAgIHJldHVybiB0aGlzLmRpbWVuc2lvbjtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgVygpIHtcclxuICAgIHJldHVybiB0aGlzLmRpbWVuc2lvbi5YO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBIKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZGltZW5zaW9uLlk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IFdpZHRoKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZGltZW5zaW9uLlg7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IEhlaWdodCgpIHtcclxuICAgIHJldHVybiB0aGlzLmRpbWVuc2lvbi5ZO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBQYXJlbnQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wYXJlbnQ7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgZ2V0IENoaWxkcmVuKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4uc2xpY2UoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXQgUG9zaXRpb24ocG9zaXRpb246IFZlY3RvcjJEKSB7XHJcbiAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0IFgoeDogbnVtYmVyKSB7XHJcbiAgICB0aGlzLnBvc2l0aW9uLlggPSB4O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldCBZKHk6IG51bWJlcikge1xyXG4gICAgdGhpcy5wb3NpdGlvbi5ZID0geTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXQgRGltZW5zaW9uKGRpbWVuc2lvbjogVmVjdG9yMkQpIHtcclxuICAgIHRoaXMuZGltZW5zaW9uID0gZGltZW5zaW9uO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldCBXKHdpZHRoOiBudW1iZXIpIHtcclxuICAgIHRoaXMuZGltZW5zaW9uLlggPSB3aWR0aDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXQgSChoZWlnaHQ6IG51bWJlcikge1xyXG4gICAgdGhpcy5kaW1lbnNpb24uWSA9IGhlaWdodDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXQgV2lkdGgod2lkdGg6IG51bWJlcikge1xyXG4gICAgdGhpcy5kaW1lbnNpb24uWCA9IHdpZHRoO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldCBIZWlnaHQoaGVpZ2h0OiBudW1iZXIpIHtcclxuICAgIHRoaXMuZGltZW5zaW9uLlkgPSBoZWlnaHQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGVzIHBhcmVudC1jaGlsZCByZWxhdGlvbiBiZXR3ZWVuIHRoaXMgZW50aXR5IGFuZCBlbnRpdGllcyBwYXNzZWQgdGhyb3VnaCB0aGUgcGFyYW1ldGVyLlxyXG4gICAqIElmIGNoaWxkcmVuIHBhc3NlZCBhbHJlYWR5IGhhcyBhIHBhcmVudCwgdGhlIHByZXZpb3VzIHJlbGF0aW9uIGlzIG92ZXJ3cml0dGVkLlxyXG4gICAqIHpfaW5kZXggY2FuIGJlIHNwZWNpZmllZCB0byBjb25maWd1cmUgcmVuZGVyaW5nIHNlcXVlbmNlIGJldHdlZW4gY2hpbGRyZW4uXHJcbiAgICogQHBhcmFtIGNoaWxkcmVuIFNpbmdsZSBlbnRpdHkgb3IgYW4gYXJyYXkgb2YgZW50aXRpZXMgdG8gYXR0YWNoLlxyXG4gICAqIEBwYXJhbSB6X2luZGV4IEluZGV4IGluIGFycmF5IG9mIGFsbCBjaGlsZHJlbiBpbiB0aGlzIGVudGl0eS4gVGhlIGhpZ2hlciBnZXRzIHJlbmRlcmQgbGF0ZXIuXHJcbiAgICogQHJldHVybnMgVGhlIHBvc2l0aW9uIGdpdmVuIGNoaWxkIGVudGl0eSBpcyBwdXQuXHJcbiAgICovXHJcbiAgcHVibGljIGF0dGFjaENoaWxkcmVuKFxyXG4gICAgY2hpbGRyZW46IEVudGl0eVtdIHwgRW50aXR5LFxyXG4gICAgel9pbmRleDogbnVtYmVyID0gSW5maW5pdHlcclxuICApOiBudW1iZXIge1xyXG4gICAgbGV0IGxhc3RJbmRleDogbnVtYmVyID0gLTE7XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcclxuICAgICAgY29uc3Qgc2FmZUluZGV4ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oel9pbmRleCwgdGhpcy5jaGlsZHJlbi5sZW5ndGgpKTtcclxuICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGNoaWxkcmVuLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgIGxhc3RJbmRleCA9IHRoaXMuYXR0YWNoQ2hpbGRyZW4oY2hpbGRyZW5baW5kZXhdLCBzYWZlSW5kZXggKyBpbmRleCk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZvciAoXHJcbiAgICAgICAgbGV0IHRlbXBQYXJlbnQ6IEVudGl0eSB8IG51bGwgPSB0aGlzO1xyXG4gICAgICAgIHRlbXBQYXJlbnQgIT09IG51bGw7XHJcbiAgICAgICAgdGVtcFBhcmVudCA9IHRlbXBQYXJlbnQucGFyZW50XHJcbiAgICAgICkge1xyXG4gICAgICAgIGlmICh0ZW1wUGFyZW50ID09PSBjaGlsZHJlbikge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTG9vcCBvZiBwYXJlbnQtY2hpbGQgcmVsYXRpb25zaGlwcyBkZXRlY3RlZC5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGNoaWxkcmVuLnBhcmVudD8uZGV0YWNoQ2hpbGRyZW4oY2hpbGRyZW4pO1xyXG4gICAgICAvLyBUT0RPOiBNYXliZSBnb29kIGlmIHRoZXJlJ3Mgb3B0aW9uIHdoaWNoIGRlY2lkZXNcclxuICAgICAgLy8gICAgICAgd2hldGhlciBpdCBkZXRhY2hlcyBhbmQgcmUtYXR0YWNoZXMgb3IgdGhyb3dzIGVycm9yXHJcbiAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZHJlbik7XHJcbiAgICAgIGNoaWxkcmVuLnBhcmVudCA9IHRoaXM7XHJcbiAgICAgIGxhc3RJbmRleCA9IHRoaXMuc2V0Q2hpbGRJbmRleChjaGlsZHJlbiwgel9pbmRleCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGFzdEluZGV4OyAvLyBpZiByZXR1cm5zIC0xLCBlbXB0eSBhcnJheSBoYXMgYmVlbiBpbnB1dC5cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZXMgcGFyZW50LWNoaWxkIHJlbGF0aW9uIGJldHdlZW4gdGhpcyBlbnRpdHkgYW5kIGVudGl0aWVzIHBhc3NlZCB0aHJvdWdoIHRoZSBwYXJhbWV0ZXIuXHJcbiAgICogQHBhcmFtIGNoaWxkcmVuIFNpbmdsZSBlbnRpdHkgb3IgYW4gYXJyYXkgb2YgZW50aXRpZXMgdG8gZGV0dGFjaC5cclxuICAgKi9cclxuICBwdWJsaWMgZGV0YWNoQ2hpbGRyZW4oY2hpbGRyZW46IEVudGl0eVtdIHwgRW50aXR5KSB7XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcclxuICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBjaGlsZHJlbikge1xyXG4gICAgICAgIHRoaXMuZGV0YWNoQ2hpbGRyZW4oY2hpbGQpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBpbmRleCA9IHRoaXMuY2hpbGRyZW4uaW5kZXhPZihjaGlsZHJlbik7XHJcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIGNoaWxkcmVuLnBhcmVudCA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHJpZXZlcyBjaGlsZCBpbmRleCBvZiB0aGUgZW50aXR5IHBhc3NlZCB0aHJvdWdoIHRoZSBwYXJhbWV0ZXIgaW4gdGhlIGNoaWxkcmVuIGxpc3Qgb2YgdGhpcyBlbnRpdHkuXHJcbiAgICogSWYgY2hpbGRyZW4gcGFzc2VkIGlzIG5vdCBjaGlsZCBvZiB0aGlzIGluc3RhbmNlLCBhbiBlcnJvciBpcyB0aHJvd24uXHJcbiAgICogQHBhcmFtIGNoaWxkIFNpbmdsZSBlbnRpdHkgd2hpY2ggcmVxdWlyZSB0aGUgaW5kZXguXHJcbiAgICogQHJldHVybnMgVGhlIHBvc2l0aW9uIG9mIHRoZSBnaXZlbiBjaGlsZCBlbnRpdHkuXHJcbiAgICovXHJcbiAgcHVibGljIGdldENoaWxkSW5kZXgoY2hpbGQ6IEVudGl0eSk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEJhc2VkIG9uIGFscmVhZHkgZXhpc3RpbmcgcGFyZW50LWNoaWxkIHJlbGF0aW9uLCB0aGlzIG1ldGhvZCBtb2RpZmllcyB0aGUgaW5kZXggb2YgZ2l2ZW4gY2hpbGQgaW4gdGhlIGNoaWxkcmVuIGxpc3Qgb2YgdGhpcyBlbnRpdHkuXHJcbiAgICogQHBhcmFtIGNoaWxkIFNpbmdsZSBlbnRpdHkgdG8gbW9kaWZ5IGluZGV4LlxyXG4gICAqIEBwYXJhbSB6X2luZGV4IEluZGV4IGluIGFycmF5IG9mIGNoaWxkcmVuIGluIHRoaXMgZW50aXR5LiBUaGUgaGlnaGVyIGdldHMgcmVuZGVyZCBsYXRlci5cclxuICAgKiBAcmV0dXJucyBUaGUgcG9zaXRpb24gZ2l2ZW4gY2hpbGQgZW50aXR5IGlzIG1vdmVkIHRvLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzZXRDaGlsZEluZGV4KGNoaWxkOiBFbnRpdHksIGluZGV4OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gdGhpcy5nZXRDaGlsZEluZGV4KGNoaWxkKTtcclxuICAgIGlmIChjdXJyZW50SW5kZXggPT09IC0xKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkkgQU0gTk9UIFlPVVIgRkFUSEVSXCIpOyAvLyB0b2RvOiBiZXR0ZXIgZXJyb3IgbWVzc2FnZT9cclxuICAgIH1cclxuICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGN1cnJlbnRJbmRleCwgMSk7XHJcbiAgICBjb25zdCBzYWZlSW5kZXggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihpbmRleCwgdGhpcy5jaGlsZHJlbi5sZW5ndGgpKTtcclxuICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKHNhZmVJbmRleCwgMCwgY2hpbGQpO1xyXG4gICAgcmV0dXJuIHNhZmVJbmRleDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFsaWFzIG9mIGF0dGFjaENoaWxkcmVuLiB0aGlzIGVudGl0eSBpcyBkZXR0YWNoZWQgZnJvbSBwYXJlbnQgaWYgbnVsbCBpcyBwYXNzZWQuXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBUaGUgZm9sbG93aW5nIHR3byBsaW5lc2Ugb2YgY29kZSBtZWFucyBleGFjdGx5IHNhbWUuXHJcbiAgICogYGBgdHNcclxuICAgKiBBLnNldFBhcmVudChCKTtcclxuICAgKiBCLmF0dGFjaENoaWxkcmVuKEEpO1xyXG4gICAqIGBgYFxyXG4gICAqIEBwYXJhbSBwYXJlbnQgcGFyZW50IGluc3RhbmNlIHRvIHNldCBhcyBwYXJlbnQgb2YgdGhpcyBlbnRpdHkuXHJcbiAgICovXHJcbiAgcHVibGljIHNldFBhcmVudChwYXJlbnQ6IEVudGl0eSB8IG51bGwgPSBudWxsKSB7XHJcbiAgICBpZiAocGFyZW50ID09IG51bGwpIHtcclxuICAgICAgdGhpcy5wYXJlbnQ/LmRldGFjaENoaWxkcmVuKHRoaXMpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcGFyZW50LmF0dGFjaENoaWxkcmVuKHRoaXMpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCAoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XHJcbiAgaWYgKCg8YW55PmNvbnRleHQpLnJlc2V0ICE9IG51bGwpIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLy8gQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEI3Jlc2V0IGlzIGEgZXhwZXJpbWVudGFsIG1ldGhvZC4gd2hpY2ggbWF5IG5vdCBiZSBpbmNsdWRlZCBpbiBzb21lIGJyb3dzZXJzIGluY2x1ZGluZyBmaXJlZm94LlxyXG4gIC8vIFRoaXMgYmxvY2sgd2lsbCBjcmVhdGUgcmVzZXQgbWV0aG9kIG1vY2tpbmcgdGhlIGJlaGF2aW9yIGRlc2NyaWJlZCBpbiBDaHJvbWl1bSBzb3VyY2UgY29kZS5cclxuICAvLyBJbiBvcmRlciB0byBrZWVwIHRyYWNrIG9mIGRlZmF1bHQgc3RhdGUgc3RhY2sgaW4gY29udGV4dCwgcmVsZXZhbnQgbWV0aG9kcyBhcmUgbW9kaWZlaWVkL2FkZGVkIGFzIGEgc2lkZSBlZmZlY3QuXHJcbiAgY29udGV4dC5zYXZlKCk7XHJcbiAgbGV0IHN0YXRlQ291bnQgPSAwO1xyXG5cclxuICBjb25zdCB0ZW1wU2F2ZSA9IGNvbnRleHQuc2F2ZTtcclxuICBjb25zdCB0ZW1wUmVzdG9yZSA9IGNvbnRleHQucmVzdG9yZTtcclxuXHJcbiAgY29udGV4dC5zYXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdGVtcFNhdmUuY2FsbCh0aGlzKTtcclxuICAgIHN0YXRlQ291bnQrKztcclxuICB9O1xyXG5cclxuICBjb250ZXh0LnJlc3RvcmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoc3RhdGVDb3VudCA+IDApIHtcclxuICAgICAgdGVtcFJlc3RvcmUuY2FsbCh0aGlzKTtcclxuICAgICAgc3RhdGVDb3VudC0tO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlc3RvcmVSb290ID0gZnVuY3Rpb24gKF9jb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgIGZvciAobGV0IGNvdW50ID0gc3RhdGVDb3VudDsgY291bnQgPiAtMTsgY291bnQtLSkge1xyXG4gICAgICB0ZW1wUmVzdG9yZS5jYWxsKF9jb250ZXh0KTtcclxuICAgIH1cclxuICAgIHN0YXRlQ291bnQgPSAtMTtcclxuICB9O1xyXG5cclxuICAoPGFueT5jb250ZXh0KS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJlc3RvcmVSb290KGNvbnRleHQpO1xyXG4gICAgdGhpcy5tb3ZlVG8oMCwgMCk7XHJcbiAgICB0aGlzLmJlZ2luUGF0aCgpO1xyXG4gICAgdGhpcy5jbG9zZVBhdGgoKTtcclxuICAgIHRoaXMucmVzZXRUcmFuc2Zvcm0oKTtcclxuICAgIHRoaXMuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgdGhpcy5zYXZlKCk7XHJcbiAgfTtcclxuICByZXR1cm4gZmFsc2U7XHJcbn07XHJcbiIsImltcG9ydCB7IFZlY3RvcjJEIH0gZnJvbSBcIi4uL3ZlY3RvclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FtZXJhIHtcclxuICBwcml2YXRlIHZhbHVlczogW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIG0xMTogbnVtYmVyID0gMSxcclxuICAgIG0xMjogbnVtYmVyID0gMCxcclxuICAgIG0yMTogbnVtYmVyID0gMCxcclxuICAgIG0yMjogbnVtYmVyID0gMSxcclxuICAgIG94OiBudW1iZXIgPSAwLFxyXG4gICAgb3k6IG51bWJlciA9IDBcclxuICApIHtcclxuICAgIHRoaXMudmFsdWVzID0gW20xMSwgbTEyLCBtMjEsIG0yMiwgb3gsIG95XTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHRlciBwcm9wZXJ0eSBvZiBtMTFcclxuICAgKi9cclxuICBnZXQgbTExKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy52YWx1ZXNbMF07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXR0ZXIgcHJvcGVydHkgb2YgbTEyXHJcbiAgICovXHJcbiAgZ2V0IG0xMigpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMudmFsdWVzWzFdO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0dGVyIHByb3BlcnR5IG9mIG0yMVxyXG4gICAqL1xyXG4gIGdldCBtMjEoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnZhbHVlc1syXTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHRlciBwcm9wZXJ0eSBvZiBtMjJcclxuICAgKi9cclxuICBnZXQgbTIyKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy52YWx1ZXNbM107XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXR0ZXIgcHJvcGVydHkgb2Ygb2Zmc2V0IHhcclxuICAgKi9cclxuICBnZXQgb3goKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLnZhbHVlc1s0XTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHRlciBwcm9wZXJ0eSBvZiBvZmZzZXQgeVxyXG4gICAqL1xyXG4gIGdldCBveSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMudmFsdWVzWzVdO1xyXG4gIH1cclxuXHJcbiAgZ2V0IERldGVybWluYW50KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5tMTEgKiB0aGlzLm0yMiAtIHRoaXMubTEyICogdGhpcy5tMjE7XHJcbiAgfVxyXG5cclxuICBnZXQgaXNJbnZlcnRpYmxlKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuRGV0ZXJtaW5hbnQgIT09IDA7XHJcbiAgfVxyXG5cclxuICBnZXQgaXNJZGVudGl0eSgpOiBib29sZWFuIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIHRoaXMubTExID09PSAxICYmXHJcbiAgICAgIHRoaXMubTIyID09PSAxICYmXHJcbiAgICAgIHRoaXMubTEyID09PSAwICYmXHJcbiAgICAgIHRoaXMubTIxID09PSAwICYmXHJcbiAgICAgIHRoaXMub3ggPT09IDAgJiZcclxuICAgICAgdGhpcy5veSA9PT0gMFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHRlciBwcm9wZXJ0eSBvZiBtMTFcclxuICAgKi9cclxuICBzZXQgbTExKHZhbHVlOiBudW1iZXIpIHtcclxuICAgIHRoaXMudmFsdWVzWzBdID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXR0ZXIgcHJvcGVydHkgb2YgbTEyXHJcbiAgICovXHJcbiAgc2V0IG0xMih2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLnZhbHVlc1sxXSA9IHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2V0dGVyIHByb3BlcnR5IG9mIG0yMVxyXG4gICAqL1xyXG4gIHNldCBtMjEodmFsdWU6IG51bWJlcikge1xyXG4gICAgdGhpcy52YWx1ZXNbMl0gPSB2YWx1ZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHRlciBwcm9wZXJ0eSBvZiBtMjJcclxuICAgKi9cclxuICBzZXQgbTIyKHZhbHVlOiBudW1iZXIpIHtcclxuICAgIHRoaXMudmFsdWVzWzNdID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXR0ZXIgcHJvcGVydHkgb2Ygb2Zmc2V0IHhcclxuICAgKi9cclxuICBzZXQgb3godmFsdWU6IG51bWJlcikge1xyXG4gICAgdGhpcy52YWx1ZXNbNF0gPSB2YWx1ZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHRlciBwcm9wZXJ0eSBvZiBvZmZzZXQgeVxyXG4gICAqL1xyXG4gIHNldCBveSh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLnZhbHVlc1s1XSA9IHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTW92ZXMgdGhlIHBvc2l0aW9uIG9mIHRoaXMgY2FtZXJhLlxyXG4gICAqIEBwYXJhbSB4IC0gWCB2YWx1ZSBvZiB0aGUgbW92ZW1lbnQuXHJcbiAgICogQHBhcmFtIHkgLSBZIHZhbHVlIG9mIHRoZSBtb3ZlbWVudC5cclxuICAgKiBAcmV0dXJucyBJdHNlbGYgd2hpY2ggZ290IG1vdmVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0cmFuc2xhdGUoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB0aGlzIHtcclxuICAgIHRoaXMub3ggKz0geDtcclxuICAgIHRoaXMub3kgKz0geTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2NhbGVzIHRoZSB3aG9sZSBzY2VuZS4gQmlnZ2VyIHRoZSB2YWx1ZSBpcywgQmlnZ2VyIHRoZSBlbnRpdGllcyBzaG93LlxyXG4gICAqIEBwYXJhbSB2YWx1ZSAtIFNjYWxlIHJhdGlvIG9mIGJvdGggZGlyZWN0aW9uLlxyXG4gICAqIEByZXR1cm5zIEl0c2VsZiB3aGljaCBnb3Qgc2NhbGVkLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzY2FsZSh2YWx1ZTogbnVtYmVyKTogdGhpcztcclxuICAvKipcclxuICAgKiBTY2FsZXMgdGhlIHdob2xlIHNjZW5lLiBCaWdnZXIgdGhlIHZhbHVlIGlzLCBCaWdnZXIgdGhlIG9iamVjdHMgc2hvdy5cclxuICAgKiBAcGFyYW0geCAtIFNjYWxlIHJhdGlvIG9mIFggZGlyZWN0aW9uLlxyXG4gICAqIEBwYXJhbSB5IC0gU2NhbGUgcmF0aW8gb2YgWSBkaXJlY3Rpb24uXHJcbiAgICogQHJldHVybnMgSXRzZWxmIHdoaWNoIGdvdCBzY2FsZWQuXHJcbiAgICovXHJcbiAgcHVibGljIHNjYWxlKHg6IG51bWJlciwgeTogbnVtYmVyKTogdGhpcztcclxuICBwdWJsaWMgc2NhbGUoeDogbnVtYmVyLCB5PzogbnVtYmVyKTogdGhpcyB7XHJcbiAgICBpZiAoeSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnNjYWxlKHgsIHgpO1xyXG4gICAgfVxyXG4gICAgWzAsIDEsIDRdLmZvckVhY2goKHYpID0+IHtcclxuICAgICAgdGhpcy52YWx1ZXNbdl0gKj0geDtcclxuICAgIH0pO1xyXG4gICAgWzIsIDMsIDVdLmZvckVhY2goKHYpID0+IHtcclxuICAgICAgdGhpcy52YWx1ZXNbdl0gKj0geTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBcHBseSBsaW5lYXIgdHJhbnNmb3JtYXRpb24uXHJcbiAgICogQHBhcmFtIG0xMSAtIEVsZW1lbnQgb2YgdGhlIG1hdHJpeCBhdCBgKDEsIDEpYC5cclxuICAgKiBAcGFyYW0gbTEyIC0gRWxlbWVudCBvZiB0aGUgbWF0cml4IGF0IGAoMSwgMilgLlxyXG4gICAqIEBwYXJhbSBtMjEgLSBFbGVtZW50IG9mIHRoZSBtYXRyaXggYXQgYCgyLCAxKWAuXHJcbiAgICogQHBhcmFtIG0yMiAtIEVsZW1lbnQgb2YgdGhlIG1hdHJpeCBhdCBgKDIsIDIpYC5cclxuICAgKiBAcGFyYW0gb3ggLSBFbGVtZW50IG9mIHRoZSBtYXRyaXggYXQgYCgzLCAxKWAuXHJcbiAgICogQHBhcmFtIG95IC0gRWxlbWVudCBvZiB0aGUgbWF0cml4IGF0IGAoMywgMilgLlxyXG4gICAqIEByZXR1cm5zIEl0c2VsZiB3aGljaCBnb3QgYXBwbGllZC5cclxuICAgKi9cclxuICBwdWJsaWMgbGluZWFyKFxyXG4gICAgbTExOiBudW1iZXIsXHJcbiAgICBtMTI6IG51bWJlcixcclxuICAgIG0yMTogbnVtYmVyLFxyXG4gICAgbTIyOiBudW1iZXIsXHJcbiAgICBveDogbnVtYmVyLFxyXG4gICAgb3k6IG51bWJlclxyXG4gICk6IHRoaXMge1xyXG4gICAgdGhpcy52YWx1ZXMgPSBbXHJcbiAgICAgIHRoaXMubTExICogbTExICsgdGhpcy5tMTIgKiBtMjEsXHJcbiAgICAgIHRoaXMubTExICogbTEyICsgdGhpcy5tMTIgKiBtMjIsXHJcbiAgICAgIHRoaXMubTIxICogbTExICsgdGhpcy5tMjIgKiBtMjEsXHJcbiAgICAgIHRoaXMubTIxICogbTEyICsgdGhpcy5tMjIgKiBtMjIsXHJcbiAgICAgIHRoaXMubTExICogb3ggKyB0aGlzLm0xMiAqIG95ICsgdGhpcy5veCxcclxuICAgICAgdGhpcy5tMjEgKiBveCArIHRoaXMubTIyICogb3kgKyB0aGlzLm95LFxyXG4gICAgXTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUm90YXRlIHRoZSBjYW1lcmEgY291bnRjbG9ja3dpc2UuXHJcbiAgICogQHBhcmFtIGFuZ2xlIC0gVGhlIHJvdGF0aW9uIGFuZ2xlIHlvdSB3YW50LiAoaW4gKmRlZ3JlZXMqKVxyXG4gICAqIEByZXR1cm5zIEl0c2VsZiB3aGljaCBnb3Qgcm90YXRlZC5cclxuICAgKi9cclxuICBwdWJsaWMgcm90YXRlKGFuZ2xlOiBudW1iZXIpOiB0aGlzIHtcclxuICAgIGFuZ2xlID0gKGFuZ2xlICogTWF0aC5QSSkgLyAxODA7XHJcbiAgICBjb25zdCBzaW5WYWx1ZSA9IE1hdGguc2luKGFuZ2xlKTtcclxuICAgIGNvbnN0IGNvc1ZhbHVlID0gTWF0aC5jb3MoYW5nbGUpO1xyXG4gICAgcmV0dXJuIHRoaXMubGluZWFyKGNvc1ZhbHVlLCBzaW5WYWx1ZSwgLXNpblZhbHVlLCBjb3NWYWx1ZSwgMCwgMCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBcHBseSB0cmFuc2Zvcm0gdG8gdGhlIGdpZW4gY29vcmRpbmF0ZSB2YWx1ZXMuXHJcbiAgICogQHBhcmFtIHggLSBYIHZhbHVlIG9mIHRoZSBjb29yZGluYXRlLlxyXG4gICAqIEBwYXJhbSB5IC0gWSB2YWx1ZSBvZiB0aGUgY29vcmRpbmF0ZS5cclxuICAgKiBAcmV0dXJucyBBY3R1YWwgY29vcmRpbmF0ZSB2YWx1ZXMgeW91ciBjb29yZGluYXRlIHdpbGwgYXBwZWFyIGF0LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhcHBseSh4OiBudW1iZXIgfCBWZWN0b3IyRCwgeT86IG51bWJlcik6IFZlY3RvcjJEIHtcclxuICAgIGxldCB2OiBWZWN0b3IyRDtcclxuICAgIGlmICh4IGluc3RhbmNlb2YgVmVjdG9yMkQpIHtcclxuICAgICAgdiA9IHg7XHJcbiAgICAgIHkgPSB4Llk7XHJcbiAgICAgIHggPSB4Llg7XHJcbiAgICAgIHYuWCA9IHRoaXMubTExICogeCArIHRoaXMubTEyICogeSArIHRoaXMub3g7XHJcbiAgICAgIHYuWSA9IHRoaXMubTIxICogeCArIHRoaXMubTIyICogeSArIHRoaXMub3k7XHJcbiAgICB9IGVsc2UgaWYgKHkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB2ID0gbmV3IFZlY3RvcjJEKFxyXG4gICAgICAgIHRoaXMubTExICogeCArIHRoaXMubTEyICogeSArIHRoaXMub3gsXHJcbiAgICAgICAgdGhpcy5tMjEgKiB4ICsgdGhpcy5tMjIgKiB5ICsgdGhpcy5veVxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxyXG4gICAgICAgIFwiQ2FtZXJhI2FwcGx5IG1ldGhvZCByZXF1aXJlcyB0d28gbnVtYmVyIHBhcmFtZXRlcnMgb3Igb25lIFZlY3RvcjJELlwiXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE11bHRpcGx5IGdpdmVuIHRyYW5zZm9ybSB0byB0aGlzIHRyYW5zZm9ybS4gQSA9IEFCIHdoZXJlIHRoaXMgaXMgQSBhbmQgZ2l2ZW4gcGFyYW0gaXMgQi5cclxuICAgKiBAcGFyYW0gQiAtIFggdmFsdWUgb2YgdGhlIGNvb3JkaW5hdGUuXHJcbiAgICogQHJldHVybnMgdGhpcyB0cmFuc2Zvcm0gYWZ0ZXIgdHJhbnNmb3JtYXRpb24uXHJcbiAgICovXHJcbiAgcHVibGljIG11bHRpcGx5KEI6IENhbWVyYSk6IHRoaXMge1xyXG4gICAgcmV0dXJuIHRoaXMubGluZWFyKC4uLkIudmFsdWVzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEludmVydCB0aGlzIG1hdHJpeCBpZiBpbnZlcnRpYmxlLlxyXG4gICAqIEByZXR1cm5zIHRoaXMgdHJhbnNmb3JtLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBpbnZlcnQoKSB7XHJcbiAgICBjb25zdCBkZXQgPSB0aGlzLkRldGVybWluYW50O1xyXG4gICAgaWYgKGRldCA9PT0gMCkgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyB0cmFuc2Zvcm0gaXMgbm90IGludmVydGlibGVcIik7XHJcbiAgICBjb25zdCBtMTEgPSB0aGlzLm0yMiAvIGRldDtcclxuICAgIGNvbnN0IG0xMiA9ICh0aGlzLm0xMiAqIC0xKSAvIGRldDtcclxuICAgIGNvbnN0IG94ID0gKHRoaXMubTEyICogdGhpcy5veSAtIHRoaXMubTIyICogdGhpcy5veCkgLyBkZXQ7XHJcbiAgICBjb25zdCBtMjEgPSAodGhpcy5tMjEgKiAtMSkgLyBkZXQ7XHJcbiAgICBjb25zdCBtMjIgPSB0aGlzLm0xMSAvIGRldDtcclxuICAgIGNvbnN0IG95ID0gKCh0aGlzLm0xMSAqIHRoaXMub3kgLSB0aGlzLm0yMSAqIHRoaXMub3gpICogLTEpIC8gZGV0O1xyXG5cclxuICAgIHRoaXMubTExID0gbTExO1xyXG4gICAgdGhpcy5tMTIgPSBtMTI7XHJcbiAgICB0aGlzLm94ID0gb3g7XHJcbiAgICB0aGlzLm0yMSA9IG0yMTtcclxuICAgIHRoaXMubTIyID0gbTIyO1xyXG4gICAgdGhpcy5veSA9IG95O1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNYWtlcyBhIGNvcHkgb2YgdGhpcyB0cmFuc2Zvcm0uXHJcbiAgICogQHJldHVybnMgYSBjb3B5IG9mIHRoaXMgbWF0cml4XHJcbiAgICovXHJcbiAgcHVibGljIGNvcHkoKTogQ2FtZXJhIHtcclxuICAgIHJldHVybiBuZXcgQ2FtZXJhKC4uLnRoaXMudmFsdWVzKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFtgRE9NTWF0cml4YF06IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9ET01NYXRyaXhcclxuICAgKiBbYERPTU1hdHJpeGBdIGdldHRlciBtZXRob2QuXHJcbiAgICogQHJldHVybnMgW2BET01NYXRyaXhgXSBvYmplY3QgbWFkZSBmcm9tIHRoaXMgdmFsdWVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyB0b0RPTSgpOiBET01NYXRyaXgge1xyXG4gICAgcmV0dXJuIG5ldyBET01NYXRyaXgoW1xyXG4gICAgICB0aGlzLm0xMSxcclxuICAgICAgdGhpcy5tMjEsXHJcbiAgICAgIHRoaXMubTEyLFxyXG4gICAgICB0aGlzLm0yMixcclxuICAgICAgdGhpcy5veCxcclxuICAgICAgdGhpcy5veSxcclxuICAgIF0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vZW50aXR5XCI7XHJcbmltcG9ydCB7IENhbWVyYSB9IGZyb20gXCIuLi9jYW1lcmFcIjtcclxuaW1wb3J0IElEcmF3YWJsZSBmcm9tIFwiLi9pZHJhd2FibGVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIFNwcml0ZSBleHRlbmRzIEVudGl0eSBpbXBsZW1lbnRzIElEcmF3YWJsZSB7XHJcbiAgcHJpdmF0ZSByZWdpb246IEVudGl0eSB8IHVuZGVmaW5lZDtcclxuXHJcbiAgcHJpdmF0ZSB0cmFuc2Zvcm06IENhbWVyYSA9IG5ldyBDYW1lcmEoKTtcclxuXHJcbiAgLyoqXHJcbiAgICogR2V0dGVyIHByb3BlcnR5IGZvciB0cmFuc2Zvcm0uXHJcbiAgICogQHJldHVybnMgVGhlIG1hdHJpeCB0cmFuc2Zvcm0gYXBwbGllZCB0byB0aGlzIHNwcml0ZS5cclxuICAgKi9cclxuICBwdWJsaWMgZ2V0IFRyYW5zZm9ybSgpOiBDYW1lcmEge1xyXG4gICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0dGVyIHByb3BlcnR5IGZvciByZWdpb24uXHJcbiAgICogQHJldHVybnMgVGhlIGRyYXdpbmcgcmVnaW9uIHRoaXMgc3ByaXRlIGlzIGluZGljYXRpbmcuIFNwcml0ZXMgYXJlIGNsaXBwZWQgYnkgdGhlaXIgcmVnaW9uLlxyXG4gICAqIEBzZWUgW0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCNjbGlwXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEL2NsaXApXHJcbiAgICovXHJcbiAgcHVibGljIGdldCBSZWdpb24oKTogRW50aXR5IHwgdW5kZWZpbmVkIHtcclxuICAgIHJldHVybiB0aGlzLnJlZ2lvbjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEByZXR1cm5zIEJvb2xlYW4gdGhhdCBkZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHJlZ2lvbiBvZiB0aGlzIHNwcml0ZSBpbmRpY2F0ZXMgaXQgc2VsZi5cclxuICAgKiBAc2VlIHtAbGluayBSZWdpb259XHJcbiAgICovXHJcbiAgcHVibGljIGdldCBpc1NlbGZSZWdpb24oKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5yZWdpb24gPT09IHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXR0ZXIgcHJvcGVydHkgZm9yIHRyYW5zZm9ybS5cclxuICAgKi9cclxuICBwdWJsaWMgc2V0IFRyYW5zZm9ybSh0cm5hc2Zvcm06IENhbWVyYSkge1xyXG4gICAgdGhpcy50cmFuc2Zvcm0gPSB0cm5hc2Zvcm07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXR0ZXIgcHJvcGVydHkgZm9yIHJlZ2lvbi5cclxuICAgKi9cclxuICBwdWJsaWMgc2V0IFJlZ2lvbihyZWdpb246IEVudGl0eSB8IHVuZGVmaW5lZCkge1xyXG4gICAgdGhpcy5yZWdpb24gPSByZWdpb247XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAaW5oZXJpdGRvY1xyXG4gICAqL1xyXG4gIHB1YmxpYyByZWFkb25seSBkcmF3ID0gKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgZGVsYXk6IG51bWJlcikgPT4ge1xyXG4gICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICBpZiAodGhpcy5yZWdpb24pIHtcclxuICAgICAgdGhpcy5iZWZvcmVDbGlwKGNvbnRleHQsIGRlbGF5KTtcclxuICAgICAgY29udGV4dC50cmFuc2xhdGUodGhpcy5BYnNvbHV0ZVgsIHRoaXMuQWJzb2x1dGVZKTtcclxuICAgICAgY29udGV4dC50cmFuc2Zvcm0oXHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ubTExLFxyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLm0yMSxcclxuICAgICAgICB0aGlzLnRyYW5zZm9ybS5tMTIsXHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ubTIyLFxyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLm94LFxyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLm95XHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgIGNvbnRleHQucmVjdCgwLCAwLCB0aGlzLnJlZ2lvbi5XaWR0aCwgdGhpcy5yZWdpb24uSGVpZ2h0KTtcclxuICAgICAgY29udGV4dC5jbGlwKCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLm9uRHJhdyhjb250ZXh0LCBkZWxheSk7XHJcbiAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgIHRoaXMuYWZ0ZXJSZXN0b3JlKGNvbnRleHQsIGRlbGF5KTtcclxuICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5DaGlsZHJlbikge1xyXG4gICAgICBpZiAoIShjaGlsZCBpbnN0YW5jZW9mIFNwcml0ZSkpIGNvbnRpbnVlO1xyXG4gICAgICBjaGlsZC5kcmF3KGNvbnRleHQsIGRlbGF5KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBQcmUtY2xpcCB0YXNrcyBwZXJmb3JtZWQgZm9yIGNhbnZhcyBjb250ZXh0IHJlc2V0LlxyXG4gICAqIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGJ5IGVuZ2luZSBpZiBhdHRhY2hlZC5cclxuICAgKiBAcGFyYW0gY29udGV4dCBDYW52YXMgY29udGV4dCB0byBwZXJmb3JtIHJlc2V0IG9uLlxyXG4gICAqIEBwYXJhbSBkZWxheSB0aW1lIGluIG1pbGxpc2Vjb25kcyBwYXNzZWQgZnJvbSB0aGUgcHJldmlvdXMgZnJhbWUgY2FsbC5cclxuICAgKi9cclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXHJcbiAgcHVibGljIGJlZm9yZUNsaXAoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBkZWxheTogbnVtYmVyKSB7fVxyXG5cclxuICAvKipcclxuICAgKiBQb3N0LXJlc3RvcmUgdGFza3MgcGVyZm9ybWVkIGZvciBjYW52YXMgY29udGV4dCByZXN0b3JlLlxyXG4gICAqIHRoaXMgbWV0aG9kIGlzIGNhbGxlZCBhdXRvbWF0aWNhbGx5IGJ5IGVuZ2luZSBpZiBhdHRhY2hlZC5cclxuICAgKiBAcGFyYW0gY29udGV4dCBDYW52YXMgY29udGV4dCB0byBwZXJmb3JtIHJlc2V0IG9uLlxyXG4gICAqIEBwYXJhbSBkZWxheSB0aW1lIGluIG1pbGxpc2Vjb25kcyBwYXNzZWQgZnJvbSB0aGUgcHJldmlvdXMgZnJhbWUgY2FsbC5cclxuICAgKi9cclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXHJcbiAgcHVibGljIGFmdGVyUmVzdG9yZShjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGRlbGF5OiBudW1iZXIpIHt9XHJcblxyXG4gIHB1YmxpYyByZXNldFRyYW5zZm9ybSgpIHtcclxuICAgIHRoaXMudHJhbnNmb3JtID0gbmV3IENhbWVyYSgpO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBSZW5kZXIgdGFza3MgcGVyZm9ybWVkIGZvciBjYW52YXMgY29udGV4dC5cclxuICAgKiB0aGlzIG1ldGhvZCBpcyBjYWxsZWQgYXV0b21hdGljYWxseSBieSBlbmdpbmUgaWYgYXR0YWNoZWQuXHJcbiAgICogQHBhcmFtIGNvbnRleHQgQ2FudmFzIGNvbnRleHQgdG8gcGVyZm9ybSByZXNldCBvbi5cclxuICAgKiBAcGFyYW0gZGVsYXkgdGltZSBpbiBtaWxsaXNlY29uZHMgcGFzc2VkIGZyb20gdGhlIHByZXZpb3VzIGZyYW1lIGNhbGwuXHJcbiAgICovXHJcbiAgcHVibGljIGFic3RyYWN0IG9uRHJhdyhcclxuICAgIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCxcclxuICAgIGRlbGF5OiBudW1iZXJcclxuICApOiB2b2lkO1xyXG59XHJcbiIsImltcG9ydCB7IFNwcml0ZSB9IGZyb20gXCIuLi9zcHJpdGVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJsYW5rU2NlbmUgZXh0ZW5kcyBTcHJpdGUge1xyXG4gIHB1YmxpYyBvbkRyYXcoKTogdm9pZCB7fVxyXG59XHJcbiIsImltcG9ydCBDYW52YXNDb25maWcgZnJvbSBcIi4vY2FudmFzX2NvbmZpZ1wiO1xyXG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi9lbnRpdHlcIjtcclxuaW1wb3J0IHsgSURyYXdhYmxlIH0gZnJvbSBcIi4vc3ByaXRlXCI7XHJcbmltcG9ydCB7IFZlY3RvcjJEIH0gZnJvbSBcIi4vdmVjdG9yXCI7XHJcbmltcG9ydCBjaGVja0NvbXBhdGliaWxpdHkgZnJvbSBcIi4vY29tcGF0aWJpbGl0eVwiO1xyXG5pbXBvcnQgeyBCbGFua1NjZW5lIH0gZnJvbSBcIi4vc2NlbmVzXCI7XHJcbmltcG9ydCB7IE1vZGlmaWVyIH0gZnJvbSBcIi4vbW9kaWZpZXJcIjtcclxuXHJcbmludGVyZmFjZSBFeHRlbmRlZENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCBleHRlbmRzIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCB7XHJcbiAgcmVzZXQoKTogdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW5naW5lIHtcclxuICBwcml2YXRlIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XHJcblxyXG4gIHByaXZhdGUgY29udGV4dDogRXh0ZW5kZWRDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcblxyXG4gIHByaXZhdGUgc3ViUmVzZXQ6IChjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHZvaWQ7XHJcblxyXG4gIHByaXZhdGUgcHJldmlvdXNUaW1lc3RhbXA6IG51bWJlciA9IDA7XHJcblxyXG4gIHByaXZhdGUgYW5pbWF0aW9uSWQ6IG51bWJlciA9IC0xO1xyXG5cclxuICBwcml2YXRlIHNjZW5lOiBJRHJhd2FibGUgPSBuZXcgQmxhbmtTY2VuZSgpO1xyXG5cclxuICBwcml2YXRlIG1vZGlmaWVyczogTW9kaWZpZXJbXSA9IFtdO1xyXG5cclxuICBwdWJsaWMgY29uc3RydWN0b3IoY2FudmFzSWRlbnRpZmllcjogSFRNTENhbnZhc0VsZW1lbnQgfCBzdHJpbmcgfCBudWxsKSB7XHJcbiAgICAvLyBsb2NhdGUgY2FudmFzIGJ5IEhUTUxDYW52YXNFbGVtZW50IG9yIENTUyBzZWxlY3RvclxyXG4gICAgbGV0IGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQgfCBudWxsO1xyXG4gICAgaWYgKHR5cGVvZiBjYW52YXNJZGVudGlmaWVyID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgIGNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgY2FudmFzSWRlbnRpZmllclxyXG4gICAgICApIGFzIEhUTUxDYW52YXNFbGVtZW50IHwgbnVsbDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNhbnZhcyA9IGNhbnZhc0lkZW50aWZpZXI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNhbnZhcyA9PT0gbnVsbCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gaWRlbnRpZnkgY2FudmFzLlwiKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgIHRoaXMuc3ViUmVzZXQgPSAoKSA9PiB7fTtcclxuXHJcbiAgICAvLyByZXF1ZXN0IGNvbnRleHQgZnJvbSBnaXZlbiBjYW52YXNcclxuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KFxyXG4gICAgICBcIjJkXCJcclxuICAgICkgYXMgRXh0ZW5kZWRDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcblxyXG4gICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuXHJcbiAgICBjaGVja0NvbXBhdGliaWxpdHkodGhpcyk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IENhbnZhcygpIHtcclxuICAgIHJldHVybiB0aGlzLmNhbnZhcztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgQ29udGV4dCgpIHtcclxuICAgIHJldHVybiB0aGlzLmNvbnRleHQ7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IFNjZW5lKCk6IElEcmF3YWJsZSB7XHJcbiAgICByZXR1cm4gdGhpcy5zY2VuZTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXQgU2NlbmUoc2NlbmU6IElEcmF3YWJsZSkge1xyXG4gICAgaWYgKHNjZW5lIGluc3RhbmNlb2YgRW50aXR5KSB7XHJcbiAgICAgIHNjZW5lLnNldFBhcmVudChudWxsKTtcclxuICAgIH1cclxuICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRTdWJSZXNldEZ1bmN0aW9uKFxyXG4gICAgZnVuYzogKGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4gdm9pZFxyXG4gICkge1xyXG4gICAgdGhpcy5zdWJSZXNldCA9IGZ1bmM7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcmVzaXplQ2FudmFzKGNvbmZpZz86IENhbnZhc0NvbmZpZyB8IFZlY3RvcjJEKSB7XHJcbiAgICBpZiAoY29uZmlnIGluc3RhbmNlb2YgVmVjdG9yMkQpIHtcclxuICAgICAgdGhpcy5DYW52YXMud2lkdGggPSBjb25maWcuWDtcclxuICAgICAgdGhpcy5DYW52YXMuaGVpZ2h0ID0gY29uZmlnLlk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLkNhbnZhcy53aWR0aCA9IGNvbmZpZz8udyA/PyB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgICAgdGhpcy5DYW52YXMuaGVpZ2h0ID0gY29uZmlnPy5oID8/IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgIH1cclxuICAgIC8vIFRPRE86IGVtaXQgY2FudmFzIHJlc2l6ZSBldmVudFxyXG4gIH1cclxuXHJcbiAgcHVibGljIHN0YXJ0KCkge1xyXG4gICAgLy8gbWF5IGJlIGVycm9yIGNoZWNrLlxyXG4gICAgdGhpcy5yZW5kZXIodGhpcy5wcmV2aW91c1RpbWVzdGFtcCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RvcCgpIHtcclxuICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uSWQpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHJlZ2lzdGVyTW9kaWZpZXIobW9kaWZpZXI6IE1vZGlmaWVyKSB7XHJcbiAgICBtb2RpZmllci5yZWdpc3RlcigpO1xyXG4gICAgdGhpcy5tb2RpZmllcnMucHVzaChtb2RpZmllcik7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdW5yZWdpc3Rlck1vZGlmaWVyKG1vZGlmaWVyOiBNb2RpZmllcikge1xyXG4gICAgdGhpcy5tb2RpZmllcnMgPSB0aGlzLm1vZGlmaWVycy5maWx0ZXIoKG0pID0+IG0gPT09IG1vZGlmaWVyKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVuZGVyKHRpbWVzdGFtcDogbnVtYmVyKSB7XHJcbiAgICBjb25zdCBlbGFwc2VkVGltZSA9IHRpbWVzdGFtcCAtIHRoaXMucHJldmlvdXNUaW1lc3RhbXA7XHJcbiAgICB0aGlzLnByZXZpb3VzVGltZXN0YW1wID0gdGltZXN0YW1wO1xyXG5cclxuICAgIGNvbnN0IG1vZGlmaWVyc1RvUmVtb3ZlOiBNb2RpZmllcltdID0gW107XHJcbiAgICBmb3IgKGNvbnN0IG1vZGlmaWVyIG9mIHRoaXMubW9kaWZpZXJzKSB7XHJcbiAgICAgIGlmIChtb2RpZmllci5Qcm9ncmVzcyA8IDEpIHtcclxuICAgICAgICBtb2RpZmllci50aWNrKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbW9kaWZpZXJzVG9SZW1vdmUucHVzaChtb2RpZmllcik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMubW9kaWZpZXJzID0gdGhpcy5tb2RpZmllcnMuZmlsdGVyKFxyXG4gICAgICAobSkgPT4gIW1vZGlmaWVyc1RvUmVtb3ZlLmluY2x1ZGVzKG0pXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuY29udGV4dC5yZXNldCgpO1xyXG4gICAgdGhpcy5zdWJSZXNldCh0aGlzLmNvbnRleHQpO1xyXG5cclxuICAgIHRoaXMuc2NlbmU/LmRyYXcodGhpcy5jb250ZXh0LCBlbGFwc2VkVGltZSk7XHJcblxyXG4gICAgdGhpcy5hbmltYXRpb25JZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnJlbmRlci5iaW5kKHRoaXMpKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IEVuZ2luZSBmcm9tIFwiLi4vZW5naW5lXCI7XHJcbmltcG9ydCBjb250ZXh0UmVzZXQgZnJvbSBcIi4vY29udGV4dF9yZXNldFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgKGVuZ2luZTogRW5naW5lKSA9PiB7XHJcbiAgY29uc3QgY29tcGF0T2JqZWN0ID0ge1xyXG4gICAgY29udGV4dF9yZXNldDogY29udGV4dFJlc2V0KGVuZ2luZS5Db250ZXh0KSxcclxuICB9O1xyXG4gIE9iamVjdC5mcmVlemUoY29tcGF0T2JqZWN0KTtcclxuICByZXR1cm4gY29tcGF0T2JqZWN0O1xyXG59O1xyXG4iLCJpbXBvcnQgVmVjdG9yIGZyb20gXCIuL3ZlY3RvclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVjdG9yM0QgZXh0ZW5kcyBWZWN0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciA9IDAsIHk6IG51bWJlciA9IDAsIHo6IG51bWJlciA9IDApIHtcclxuICAgIHN1cGVyKHgsIHksIHopO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBYKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudmFsdWVzWzBdO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBZKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudmFsdWVzWzFdO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBaKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudmFsdWVzWzJdO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldCBYKHg6IG51bWJlcikge1xyXG4gICAgdGhpcy52YWx1ZXNbMF0gPSB4O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldCBZKHk6IG51bWJlcikge1xyXG4gICAgdGhpcy52YWx1ZXNbMV0gPSB5O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldCBaKHo6IG51bWJlcikge1xyXG4gICAgdGhpcy52YWx1ZXNbMl0gPSB6O1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgVmVjdG9yIGZyb20gXCIuL3ZlY3RvclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVjdG9yNEQgZXh0ZW5kcyBWZWN0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciA9IDAsIHk6IG51bWJlciA9IDAsIHo6IG51bWJlciA9IDAsIHc6IG51bWJlciA9IDApIHtcclxuICAgIHN1cGVyKHgsIHksIHosIHcpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBYKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudmFsdWVzWzBdO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBZKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudmFsdWVzWzFdO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBaKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudmFsdWVzWzJdO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBXKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudmFsdWVzWzNdO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldCBYKHg6IG51bWJlcikge1xyXG4gICAgdGhpcy52YWx1ZXNbMF0gPSB4O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldCBZKHk6IG51bWJlcikge1xyXG4gICAgdGhpcy52YWx1ZXNbMV0gPSB5O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldCBaKHo6IG51bWJlcikge1xyXG4gICAgdGhpcy52YWx1ZXNbMl0gPSB6O1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldCBXKHc6IG51bWJlcikge1xyXG4gICAgdGhpcy52YWx1ZXNbM10gPSB3O1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwiVmVjdG9yIiwiY29uc3RydWN0b3IiLCJ2YWx1ZXMiLCJ0aGlzIiwic2l6ZSIsImxlbmd0aCIsIlNpemUiLCJjb3B5IiwidG8iLCJmb3JjZSIsIkVycm9yIiwib3ZlcndyaXRlIiwiaXNlcXVhbCIsIm90aGVyIiwicHJlY2lzZSIsInRoaXNBcnJheSIsInNsaWNlIiwib3RoZXJBcnJheSIsImV2ZXJ5IiwidiIsImkiLCJ0b0ZpeGVkIiwic2hpZnQiLCJtb3ZlIiwidGVtcCIsInVuc2hpZnQiLCJjb3VudGVyIiwibWFwIiwiVmVjdG9yMkQiLCJ4IiwieSIsInN1cGVyIiwiWCIsIlkiLCJFbnRpdHkiLCJjb25maWciLCJjaGlsZHJlbiIsInBhcmVudCIsImRpbWVuc2lvbiIsInBvc2l0aW9uIiwiVyIsIkgiLCJQb3NpdGlvbiIsIkFic29sdXRlWCIsIkFic29sdXRlWSIsIkRpbWVuc2lvbiIsIldpZHRoIiwiSGVpZ2h0IiwiUGFyZW50IiwiQ2hpbGRyZW4iLCJ3aWR0aCIsImhlaWdodCIsImF0dGFjaENoaWxkcmVuIiwiel9pbmRleCIsIkluZmluaXR5IiwibGFzdEluZGV4IiwiQXJyYXkiLCJpc0FycmF5Iiwic2FmZUluZGV4IiwiTWF0aCIsIm1heCIsIm1pbiIsImluZGV4IiwidGVtcFBhcmVudCIsImRldGFjaENoaWxkcmVuIiwicHVzaCIsInNldENoaWxkSW5kZXgiLCJjaGlsZCIsImluZGV4T2YiLCJzcGxpY2UiLCJnZXRDaGlsZEluZGV4IiwiY3VycmVudEluZGV4Iiwic2V0UGFyZW50IiwiY29udGV4dCIsInJlc2V0Iiwic2F2ZSIsInN0YXRlQ291bnQiLCJ0ZW1wU2F2ZSIsInRlbXBSZXN0b3JlIiwicmVzdG9yZSIsIl9jb250ZXh0IiwiY291bnQiLCJyZXN0b3JlUm9vdCIsIm1vdmVUbyIsImJlZ2luUGF0aCIsImNsb3NlUGF0aCIsInJlc2V0VHJhbnNmb3JtIiwiY2xlYXJSZWN0IiwiY2FudmFzIiwiQ2FtZXJhIiwibTExIiwibTEyIiwibTIxIiwibTIyIiwib3giLCJveSIsIkRldGVybWluYW50IiwiaXNJbnZlcnRpYmxlIiwiaXNJZGVudGl0eSIsInRyYW5zbGF0ZSIsInNjYWxlIiwidW5kZWZpbmVkIiwiZm9yRWFjaCIsImxpbmVhciIsInJvdGF0ZSIsImFuZ2xlIiwiUEkiLCJzaW5WYWx1ZSIsInNpbiIsImNvc1ZhbHVlIiwiY29zIiwiYXBwbHkiLCJtdWx0aXBseSIsIkIiLCJpbnZlcnQiLCJkZXQiLCJ0b0RPTSIsIkRPTU1hdHJpeCIsIlNwcml0ZSIsInRyYW5zZm9ybSIsImRyYXciLCJkZWxheSIsInJlZ2lvbiIsImJlZm9yZUNsaXAiLCJyZWN0IiwiY2xpcCIsIm9uRHJhdyIsImFmdGVyUmVzdG9yZSIsIlRyYW5zZm9ybSIsIlJlZ2lvbiIsImlzU2VsZlJlZ2lvbiIsInRybmFzZm9ybSIsIkJsYW5rU2NlbmUiLCJFbmdpbmUiLCJjYW52YXNJZGVudGlmaWVyIiwicHJldmlvdXNUaW1lc3RhbXAiLCJhbmltYXRpb25JZCIsInNjZW5lIiwibW9kaWZpZXJzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic3ViUmVzZXQiLCJnZXRDb250ZXh0IiwiZW5naW5lIiwiY29tcGF0T2JqZWN0IiwiY29udGV4dF9yZXNldCIsIkNvbnRleHQiLCJmcmVlemUiLCJDYW52YXMiLCJTY2VuZSIsInNldFN1YlJlc2V0RnVuY3Rpb24iLCJmdW5jIiwicmVzaXplQ2FudmFzIiwidyIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJoIiwiaW5uZXJIZWlnaHQiLCJzdGFydCIsInJlbmRlciIsInN0b3AiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsInJlZ2lzdGVyTW9kaWZpZXIiLCJtb2RpZmllciIsInJlZ2lzdGVyIiwidW5yZWdpc3Rlck1vZGlmaWVyIiwiZmlsdGVyIiwibSIsInRpbWVzdGFtcCIsImVsYXBzZWRUaW1lIiwibW9kaWZpZXJzVG9SZW1vdmUiLCJQcm9ncmVzcyIsInRpY2siLCJpbmNsdWRlcyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImJpbmQiLCJWZWN0b3IzRCIsInoiLCJaIiwiVmVjdG9yNEQiXSwic291cmNlUm9vdCI6IiJ9